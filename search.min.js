!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var r,i={},o={exports:{}};(r=o).exports=function(e){return e&&e.__esModule?e:{default:e}},r.exports.__esModule=!0,r.exports.default=r.exports;var a,s,c,u,l=o.exports,f={exports:{}},h={exports:{}};function p(){return a||(a=1,function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(h)),h.exports}function d(){if(u)return c;u=1;var e=(s||(s=1,function(e){var t=p().default;function n(){e.exports=n=function(){return i},e.exports.__esModule=!0,e.exports.default=e.exports;var r,i={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(r){h=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new A(r||[]);return s(o,"_invoke",{value:C(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=p;var m="suspendedStart",y="suspendedYield",v="executing",g="completed",b={};function w(){}function _(){}function O(){}var S={};h(S,u,(function(){return this}));var j=Object.getPrototypeOf,P=j&&j(j(N([])));P&&P!==o&&a.call(P,u)&&(S=P);var R=O.prototype=w.prototype=Object.create(S);function x(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,n){function r(i,o,s,c){var u=d(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==t(f)&&a.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):n.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;s(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,i){r(e,t,n,i)}))}return i=i?i.then(o,o):o()}})}function C(e,t,n){var i=m;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:r,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=d(e,t,n);if("normal"===u.type){if(i=n.done?g:y,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,i=e.iterator[n];if(i===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=r,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=d(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,b;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(a.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}throw new TypeError(t(e)+" is not iterable")}return _.prototype=O,s(R,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:_,configurable:!0}),_.displayName=h(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,h(e,f,"GeneratorFunction")),e.prototype=Object.create(R),e},i.awrap=function(e){return{__await:e}},x(E.prototype),h(E.prototype,l,(function(){return this})),i.AsyncIterator=E,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new E(p(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(R),h(R,f,"Generator"),h(R,u,(function(){return this})),h(R,"toString",(function(){return"[object Generator]"})),i.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},i.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),b}},i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(f)),f.exports)();c=e;try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return c}var m,y={exports:{}};function v(){return m||(m=1,function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,c,"next",e)}function c(e){t(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(y)),y.exports}var g,b={exports:{}};function w(){return g||(g=1,function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(b)),b.exports}var _,O,S,j={exports:{}},P={exports:{}},R={exports:{}};function x(){return _||(_=1,function(e){var t=p().default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(R)),R.exports}function E(){return O||(O=1,function(e){var t=p().default,n=x();e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(P)),P.exports}function C(){return S||(S=1,function(e){var t=E();function n(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(j)),j.exports}var k,T={};var F,A={},N={},I={},D={exports:{}};function H(){return F||(F=1,function(t){var n,r;n=e,r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},o=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(){for(var n=this.getLevel(),i=0;i<r.length;i++){var o=r[i];this[o]=i<n?e:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function l(r,i,o){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}(r)||u.apply(this,arguments)}function f(e,n){var a,s,u,f=this,h="loglevel";function p(){var e;if(typeof window!==t&&h){try{e=window.localStorage[h]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(h),i=n.indexOf(r+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i+r.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function d(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?h+=":"+e:"symbol"==typeof e&&(h=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||l,f.getLevel=function(){return null!=u?u:null!=s?s:a},f.setLevel=function(e,n){return u=d(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&h){try{return void(window.localStorage[h]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"="+n+";"}catch(e){}}}(u),c.call(f)},f.setDefaultLevel=function(e){s=d(e),p()||f.setLevel(e,!1)},f.resetLevel=function(){u=null,function(){if(typeof window!==t&&h){try{window.localStorage.removeItem(h)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),c.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(o!==f&&(a=d(o.getLevel())),c.call(f),o===f)for(var e in i)i[e].rebuild()},a=d(o?o.getLevel():"WARN");var m=p();null!=m&&(u=d(m)),c.call(f)}(o=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new f(e,o.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=h),o},o.getLoggers=function(){return i},o.default=o,o},t.exports?t.exports=r():n.log=r()}(D)),D.exports}var L,M,U={},q={},B={};function Q(){if(L)return B;L=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(B,"__esModule",{value:!0});var r=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.name=n.name,Object.setPrototypeOf(r,n.prototype),r}return n(t,e),t}(Error);return B.default=r,B}var W,$={};var V,G={};var K,z={};var J,X={};var Y,Z={};var ee,te={};var ne,re={};var ie,oe,ae,se={};function ce(){if(oe)return U;oe=1;var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0}),U.ImportError=U.TypesenseError=U.ServerError=U.RequestUnauthorized=U.RequestMalformed=U.ObjectUnprocessable=U.ObjectNotFound=U.ObjectAlreadyExists=U.MissingConfigurationError=U.HTTPError=void 0;var n=t(function(){if(M)return q;M=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(q,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return q.default=i,q}());U.HTTPError=n.default;var r=t(function(){if(W)return $;W=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return $.default=i,$}());U.MissingConfigurationError=r.default;var i=t(function(){if(V)return G;V=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return G.default=i,G}());U.ObjectAlreadyExists=i.default;var o=t(function(){if(K)return z;K=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return z.default=i,z}());U.ObjectNotFound=o.default;var a=t(function(){if(J)return X;J=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return X.default=i,X}());U.ObjectUnprocessable=a.default;var s=t(function(){if(Y)return Z;Y=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Z,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return Z.default=i,Z}());U.RequestMalformed=s.default;var c=t(function(){if(ee)return te;ee=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(te,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return te.default=i,te}());U.RequestUnauthorized=c.default;var u=t(function(){if(ne)return re;ne=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(re,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(Q()).default);return re.default=i,re}());U.ServerError=u.default;var l=t(function(){if(ie)return se;ie=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(se,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.importResults=n,r}return n(t,e),t}(r(Q()).default);return se.default=i,se}());U.ImportError=l.default;var f=t(Q());return U.TypesenseError=f.default,U}function ue(){if(ae)return I;ae=1;var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(I,"__esModule",{value:!0});var o=i(H()),a=ce(),s=function(){function e(e){var n=this;this.nodes=e.nodes||[],this.nodes=this.nodes.map((function(e){return n.setDefaultPathInNode(e)})).map((function(e){return n.setDefaultPortInNode(e)})).map((function(e){return t({},e)})),null==e.randomizeNodes&&(e.randomizeNodes=!0),!0===e.randomizeNodes&&this.shuffleArray(this.nodes),this.nearestNode=e.nearestNode,this.nearestNode=this.setDefaultPathInNode(this.nearestNode),this.nearestNode=this.setDefaultPortInNode(this.nearestNode),this.connectionTimeoutSeconds=e.connectionTimeoutSeconds||e.timeoutSeconds||5,this.healthcheckIntervalSeconds=e.healthcheckIntervalSeconds||60,this.numRetries=e.numRetries||this.nodes.length+(null==this.nearestNode?0:1)||3,this.retryIntervalSeconds=e.retryIntervalSeconds||.1,this.apiKey=e.apiKey,this.sendApiKeyAsQueryParam=e.sendApiKeyAsQueryParam,this.cacheSearchResultsForSeconds=e.cacheSearchResultsForSeconds||0,this.useServerSideSearchCache=e.useServerSideSearchCache||!1,this.logger=e.logger||o,this.logLevel=e.logLevel||"warn",this.logger.setLevel(this.logLevel),this.additionalHeaders=e.additionalHeaders,this.httpAgent=e.httpAgent,this.httpsAgent=e.httpsAgent,this.showDeprecationWarnings(e),this.validate()}return e.prototype.validate=function(){if(null==this.nodes||0===this.nodes.length||this.validateNodes())throw new a.MissingConfigurationError("Ensure that nodes[].protocol, nodes[].host and nodes[].port are set");if(null!=this.nearestNode&&this.isNodeMissingAnyParameters(this.nearestNode))throw new a.MissingConfigurationError("Ensure that nearestNodes.protocol, nearestNodes.host and nearestNodes.port are set");if(null==this.apiKey)throw new a.MissingConfigurationError("Ensure that apiKey is set");return!0},e.prototype.validateNodes=function(){var e=this;return this.nodes.some((function(t){return e.isNodeMissingAnyParameters(t)}))},e.prototype.isNodeMissingAnyParameters=function(e){return!["protocol","host","port","path"].every((function(t){return e.hasOwnProperty(t)}))&&null==e.url},e.prototype.setDefaultPathInNode=function(e){return null==e||e.hasOwnProperty("path")||(e.path=""),e},e.prototype.setDefaultPortInNode=function(e){if(null!=e&&!e.hasOwnProperty("port")&&e.hasOwnProperty("protocol"))switch(e.protocol){case"https":e.port=443;break;case"http":e.port=80}return e},e.prototype.showDeprecationWarnings=function(e){e.timeoutSeconds&&this.logger.warn("Deprecation warning: timeoutSeconds is now renamed to connectionTimeoutSeconds"),e.masterNode&&this.logger.warn("Deprecation warning: masterNode is now consolidated to nodes, starting with Typesense Server v0.12"),e.readReplicaNodes&&this.logger.warn("Deprecation warning: readReplicaNodes is now consolidated to nodes, starting with Typesense Server v0.12")},e.prototype.shuffleArray=function(e){for(var t,n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1));t=[e[r],e[n]],e[n]=t[0],e[r]=t[1]}},e}();return I.default=s,I}var le,fe,he,pe={};function de(){if(fe)return le;function t(e,t){return function(){return e.apply(t,arguments)}}fe=1;const{toString:n}=Object.prototype,{getPrototypeOf:r}=Object,i=(o=Object.create(null),e=>{const t=n.call(e);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())});var o;const a=e=>(e=e.toLowerCase(),t=>i(t)===e),s=e=>t=>typeof t===e,{isArray:c}=Array,u=s("undefined");const l=a("ArrayBuffer");const f=s("string"),h=s("function"),p=s("number"),d=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==i(e))return!1;const t=r(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},y=a("Date"),v=a("File"),g=a("Blob"),b=a("FileList"),w=a("URLSearchParams"),[_,O,S,j]=["ReadableStream","Request","Response","Headers"].map(a);function P(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),c(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function R(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e,E=e=>!u(e)&&e!==x;const C=(k="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>k&&e instanceof k);var k;const T=a("HTMLFormElement"),F=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),A=a("RegExp"),N=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};P(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},I="abcdefghijklmnopqrstuvwxyz",D="0123456789",H={DIGIT:D,ALPHA:I,ALPHA_DIGIT:I+I.toUpperCase()+D};const L=a("AsyncFunction"),M=(U="function"==typeof setImmediate,q=h(x.postMessage),U?setImmediate:q?(B=`axios@${Math.random()}`,Q=[],x.addEventListener("message",(({source:e,data:t})=>{e===x&&t===B&&Q.length&&Q.shift()()}),!1),e=>{Q.push(e),x.postMessage(B,"*")}):e=>setTimeout(e));var U,q,B,Q;const W="undefined"!=typeof queueMicrotask?queueMicrotask.bind(x):"undefined"!=typeof process&&process.nextTick||M;var $={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&h(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||h(e.append)&&("formdata"===(t=i(e))||"object"===t&&h(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer),t},isString:f,isNumber:p,isBoolean:e=>!0===e||!1===e,isObject:d,isPlainObject:m,isReadableStream:_,isRequest:O,isResponse:S,isHeaders:j,isUndefined:u,isDate:y,isFile:v,isBlob:g,isRegExp:A,isFunction:h,isStream:e=>d(e)&&h(e.pipe),isURLSearchParams:w,isTypedArray:C,isFileList:b,forEach:P,merge:function e(){const{caseless:t}=E(this)&&this||{},n={},r=(r,i)=>{const o=t&&R(n,i)||i;m(n[o])&&m(r)?n[o]=e(n[o],r):m(r)?n[o]=e({},r):c(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&P(arguments[e],r);return n},extend:(e,n,r,{allOwnKeys:i}={})=>(P(n,((n,i)=>{r&&h(n)?e[i]=t(n,r):e[i]=n}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let o,a,s;const c={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)s=o[a],i&&!i(s,e,t)||c[s]||(t[s]=e[s],c[s]=!0);e=!1!==n&&r(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:a,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!p(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:T,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:N,freezeMethods:e=>{N(e,((t,n)=>{if(h(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];h(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return c(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:R,global:x,isContextDefined:E,ALPHABET:H,generateString:(e=16,t=H.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&h(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(d(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=c(e)?[]:{};return P(e,((e,t)=>{const o=n(e,r+1);!u(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(d(e)||h(e))&&h(e.then)&&h(e.catch),setImmediate:M,asap:W};function V(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}$.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const G=V.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{K[e]={value:e}})),Object.defineProperties(V,K),Object.defineProperty(G,"isAxiosError",{value:!0}),V.from=(e,t,n,r,i,o)=>{const a=Object.create(G);return $.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),V.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};function z(e){return $.isPlainObject(e)||$.isArray(e)}function J(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function X(e,t,n){return e?e.concat(t).map((function(e,t){return e=J(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Y=$.toFlatObject($,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Z(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!$.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if($.isDate(e))return e.toISOString();if(!s&&$.isBlob(e))throw new V("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(e)||$.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if($.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if($.isArray(e)&&function(e){return $.isArray(e)&&!e.some(z)}(e)||($.isFileList(e)||$.endsWith(n,"[]"))&&(s=$.toArray(e)))return n=J(n),s.forEach((function(e,r){!$.isUndefined(e)&&null!==e&&t.append(!0===a?X([n],r,o):null===a?n:n+"[]",c(e))})),!1;return!!z(e)||(t.append(X(i,n,o),c(e)),!1)}const l=[],f=Object.assign(Y,{defaultVisitor:u,convertValue:c,isVisitable:z});if(!$.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!$.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),$.forEach(n,(function(n,o){!0===(!($.isUndefined(n)||null===n)&&i.call(t,n,$.isString(o)?o.trim():o,r,f))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t}function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const ne=te.prototype;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,n){if(!t)return e;const r=n&&n.encode||re;$.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):$.isURLSearchParams(t)?t.toString():new te(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var oe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},se={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:te,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ce="undefined"!=typeof window&&"undefined"!=typeof document,ue="object"==typeof navigator&&navigator||void 0,he=ce&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),pe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,de=ce&&window.location.href||"http://localhost";var me={...Object.freeze({__proto__:null,hasBrowserEnv:ce,hasStandardBrowserWebWorkerEnv:pe,hasStandardBrowserEnv:he,navigator:ue,origin:de}),...se};function ye(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&$.isArray(r)?r.length:o,s)return $.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&$.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&$.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,((e,r)=>{t(function(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const ve={transitional:ae,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=$.isObject(e);i&&$.isHTMLForm(e)&&(e=new FormData(e));if($.isFormData(e))return r?JSON.stringify(ye(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new me.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return me.isNode&&$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=$.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw V.from(e,V.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:me.classes.FormData,Blob:me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],(e=>{ve.headers[e]={}}));var ge=ve;const be=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const we=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Oe(e){return!1===e||null==e?e:$.isArray(e)?e.map(Oe):String(e)}function Se(e,t,n,r,i){return $.isFunction(r)?r.call(this,t,n):(i&&(t=n),$.isString(t)?$.isString(r)?-1!==t.indexOf(r):$.isRegExp(r)?r.test(t):void 0:void 0)}class je{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=_e(t);if(!i)throw new Error("header name must be a non-empty string");const o=$.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Oe(e))}const o=(e,t)=>$.forEach(e,((e,n)=>i(e,n,t)));if($.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if($.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&be[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if($.isHeaders(e))for(const[t,r]of e.entries())i(r,t,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=_e(e)){const n=$.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if($.isFunction(t))return t.call(this,e,n);if($.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=$.findKey(this,e);return!(!n||void 0===this[n]||t&&!Se(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=_e(e)){const i=$.findKey(n,e);!i||t&&!Se(0,n[i],i,t)||(delete n[i],r=!0)}}return $.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Se(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return $.forEach(this,((r,i)=>{const o=$.findKey(n,i);if(o)return t[o]=Oe(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Oe(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&$.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return $.isArray(e)?e.forEach(r):r(e),this}}je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(je.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),$.freezeMethods(je);var Pe=je;function Re(e,t){const n=this||ge,r=t||n,i=Pe.from(r.headers);let o=r.data;return $.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function xe(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,n){V.call(this,null==e?"canceled":e,V.ERR_CANCELED,t,n),this.name="CanceledError"}function Ce(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}$.inherits(Ee,V,{__CANCEL__:!0});const ke=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=r[a];i||(i=c),n[o]=s,r[o]=c;let l=a,f=0;for(;l!==o;)f+=n[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const h=u&&c-u;return h?Math.round(1e3*f/h):void 0}}(50,250);return function(e,t){let n,r,i=0,o=1e3/t;const a=(t,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-i;s>=o?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),o-s)))},()=>n&&a(n)]}((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,c=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Te=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Fe=e=>(...t)=>$.asap((()=>e(...t)));var Ae=me.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,me.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(me.origin),me.navigator&&/(msie|trident)/i.test(me.navigator.userAgent)):()=>!0,Ne=me.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];$.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),$.isString(r)&&a.push("path="+r),$.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ie(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const De=e=>e instanceof Pe?{...e}:e;function He(e,t){t=t||{};const n={};function r(e,t,n,r){return $.isPlainObject(e)&&$.isPlainObject(t)?$.merge.call({caseless:r},e,t):$.isPlainObject(t)?$.merge({},t):$.isArray(t)?t.slice():t}function i(e,t,n,i){return $.isUndefined(t)?$.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!$.isUndefined(t))return r(void 0,t)}function a(e,t){return $.isUndefined(t)?$.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(De(e),De(t),0,!0)};return $.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=c[r]||i,a=o(e[r],t[r],r);$.isUndefined(a)&&o!==s||(n[r]=a)})),n}var Le=e=>{const t=He({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=Pe.from(s),t.url=ie(Ie(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),$.isFormData(r))if(me.hasStandardBrowserEnv||me.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(me.hasStandardBrowserEnv&&(i&&$.isFunction(i)&&(i=i(t)),i||!1!==i&&Ae(t.url))){const e=o&&a&&Ne.read(a);e&&s.set(o,e)}return t};var Me="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Le(e);let i=r.data;const o=Pe.from(r.headers).normalize();let a,s,c,u,l,{responseType:f,onUploadProgress:h,onDownloadProgress:p}=r;function d(){u&&u(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function y(){if(!m)return;const r=Pe.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ce((function(e){t(e),d()}),(function(e){n(e),d()}),{data:f&&"text"!==f&&"json"!==f?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(n(new V("Request aborted",V.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||ae;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new V(t,i.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&$.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),$.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),f&&"json"!==f&&(m.responseType=r.responseType),p&&([c,l]=ke(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([s,u]=ke(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Ee(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===me.protocols.indexOf(v)?n(new V("Unsupported protocol "+v+":",V.ERR_BAD_REQUEST,e)):m.send(i||null)}))};var Ue=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof V?t:new Ee(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>$.asap(a),s}};const qe=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Be=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Qe=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Be(e))yield*qe(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},We="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,$e=We&&"function"==typeof ReadableStream,Ve=We&&("function"==typeof TextEncoder?(Ge=new TextEncoder,e=>Ge.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ge;const Ke=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},ze=$e&&Ke((()=>{let e=!1;const t=new Request(me.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Je=$e&&Ke((()=>$.isReadableStream(new Response("").body))),Xe={stream:Je&&(e=>e.body)};var Ye;We&&(Ye=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Xe[e]&&(Xe[e]=$.isFunction(Ye[e])?t=>t[e]():(t,n)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,n)})})));const Ze=async(e,t)=>{const n=$.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if($.isBlob(e))return e.size;if($.isSpecCompliantForm(e)){const t=new Request(me.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $.isArrayBufferView(e)||$.isArrayBuffer(e)?e.byteLength:($.isURLSearchParams(e)&&(e+=""),$.isString(e)?(await Ve(e)).byteLength:void 0)})(t):n};const et={http:null,xhr:Me,fetch:We&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:u,headers:l,withCredentials:f="same-origin",fetchOptions:h}=Le(e);u=u?(u+"").toLowerCase():"text";let p,d=Ue([i,o&&o.toAbortSignal()],a);const m=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let y;try{if(c&&ze&&"get"!==n&&"head"!==n&&0!==(y=await Ze(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if($.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=Te(y,ke(Fe(c)));r=Qe(n.body,65536,e,t)}}$.isString(f)||(f=f?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...h,signal:d,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:i?f:void 0});let o=await fetch(p);const a=Je&&("stream"===u||"response"===u);if(Je&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=$.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&Te(t,ke(Fe(s),!0))||[];o=new Response(Qe(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let v=await Xe[$.findKey(Xe,u)||"text"](o,e);return!a&&m&&m(),await new Promise(((t,n)=>{Ce(t,n,{data:v,headers:Pe.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new V("Network Error",V.ERR_NETWORK,e,p),{cause:t.cause||t});throw V.from(t,t&&t.code,e,p)}})};$.forEach(et,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const tt=e=>`- ${e}`,nt=e=>$.isFunction(e)||null===e||!1===e;var rt=e=>{e=$.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!nt(n)&&(r=et[(t=String(n)).toLowerCase()],void 0===r))throw new V(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new V("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(tt).join("\n"):" "+tt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function it(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function ot(e){it(e),e.headers=Pe.from(e.headers),e.data=Re.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rt(e.adapter||ge.adapter)(e).then((function(t){return it(e),t.data=Re.call(e,e.transformResponse,t),t.headers=Pe.from(t.headers),t}),(function(t){return xe(t)||(it(e),t&&t.response&&(t.response.data=Re.call(e,e.transformResponse,t.response),t.response.headers=Pe.from(t.response.headers))),Promise.reject(t)}))}const at="1.7.9",st={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{st[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ct={};st.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new V(r(i," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!ct[i]&&(ct[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},st.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};var ut={assertOptions:function(e,t,n){if("object"!=typeof e)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new V("option "+o+" must be "+n,V.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}},validators:st};const lt=ut.validators;class ft{constructor(e){this.defaults=e,this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=He(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ut.assertOptions(n,{silentJSONParsing:lt.transitional(lt.boolean),forcedJSONParsing:lt.transitional(lt.boolean),clarifyTimeoutError:lt.transitional(lt.boolean)},!1),null!=r&&($.isFunction(r)?t.paramsSerializer={serialize:r}:ut.assertOptions(r,{encode:lt.function,serialize:lt.function},!0)),ut.assertOptions(t,{baseUrl:lt.spelling("baseURL"),withXsrfToken:lt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[t.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Pe.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,f=0;if(!s){const e=[ot.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);f<l;)u=u.then(e[f++],e[f++]);return u}l=a.length;let h=t;for(f=0;f<l;){const e=a[f++],t=a[f++];try{h=e(h)}catch(e){t.call(this,e);break}}try{u=ot.call(this,h)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}getUri(e){return ie(Ie((e=He(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],(function(e){ft.prototype[e]=function(t,n){return this.request(He(n||{},{method:e,url:t,data:(n||{}).data}))}})),$.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(He(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ft.prototype[e]=t(),ft.prototype[e+"Form"]=t(!0)}));var ht=ft;class pt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Ee(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new pt((function(t){e=t}));return{token:t,cancel:e}}}var dt=pt;const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach((([e,t])=>{mt[t]=e}));var yt=mt;const vt=function e(n){const r=new ht(n),i=t(ht.prototype.request,r);return $.extend(i,ht.prototype,r,{allOwnKeys:!0}),$.extend(i,r,null,{allOwnKeys:!0}),i.create=function(t){return e(He(n,t))},i}(ge);return vt.Axios=ht,vt.CanceledError=Ee,vt.CancelToken=dt,vt.isCancel=xe,vt.VERSION=at,vt.toFormData=Z,vt.AxiosError=V,vt.Cancel=vt.CanceledError,vt.all=function(e){return Promise.all(e)},vt.spread=function(e){return function(t){return e.apply(null,t)}},vt.isAxiosError=function(e){return $.isObject(e)&&!0===e.isAxiosError},vt.mergeConfig=He,vt.AxiosHeaders=Pe,vt.formToJSON=e=>ye($.isHTMLForm(e)?new FormData(e):e),vt.getAdapter=rt,vt.HttpStatusCode=yt,vt.default=vt,le=vt}function me(){if(he)return pe;he=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});var i=r(de()),o=ce(),a=r(Q()),s=!0,c=function(){function e(e){this.configuration=e,this.apiKey=this.configuration.apiKey,this.nodes=null==this.configuration.nodes?this.configuration.nodes:JSON.parse(JSON.stringify(this.configuration.nodes)),this.nearestNode=null==this.configuration.nearestNode?this.configuration.nearestNode:JSON.parse(JSON.stringify(this.configuration.nearestNode)),this.connectionTimeoutSeconds=this.configuration.connectionTimeoutSeconds,this.healthcheckIntervalSeconds=this.configuration.healthcheckIntervalSeconds,this.numRetriesPerRequest=this.configuration.numRetries,this.retryIntervalSeconds=this.configuration.retryIntervalSeconds,this.sendApiKeyAsQueryParam=this.configuration.sendApiKeyAsQueryParam,this.additionalUserHeaders=this.configuration.additionalHeaders,this.logger=this.configuration.logger,this.initializeMetadataForNodes(),this.currentNodeIndex=-1}return e.prototype.get=function(e,r,i){void 0===r&&(r={});var o=void 0===i?{}:i,a=o.abortSignal,s=void 0===a?null:a,c=o.responseType,u=void 0===c?void 0:c;return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.performRequest("get",e,{queryParameters:r,abortSignal:s,responseType:u})]}))}))},e.prototype.delete=function(e,r){return void 0===r&&(r={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.performRequest("delete",e,{queryParameters:r})]}))}))},e.prototype.post=function(e,r,i,o){return void 0===r&&(r={}),void 0===i&&(i={}),void 0===o&&(o={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.performRequest("post",e,{queryParameters:i,bodyParameters:r,additionalHeaders:o})]}))}))},e.prototype.put=function(e,r,i){return void 0===r&&(r={}),void 0===i&&(i={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.performRequest("put",e,{queryParameters:i,bodyParameters:r})]}))}))},e.prototype.patch=function(e,r,i){return void 0===r&&(r={}),void 0===i&&(i={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.performRequest("patch",e,{queryParameters:i,bodyParameters:r})]}))}))},e.prototype.performRequest=function(e,r,o){var a,c,u,l=o.queryParameters,f=void 0===l?null:l,h=o.bodyParameters,p=void 0===h?null:h,d=o.additionalHeaders,m=void 0===d?{}:d,y=o.abortSignal,v=void 0===y?null:y,g=o.responseType,b=void 0===g?void 0:g,w=o.skipConnectionTimeout,_=void 0!==w&&w;return t(this,void 0,void 0,(function(){var t,o,l,h,d,y;return n(this,(function(g){switch(g.label){case 0:this.configuration.validate(),t=Date.now(),this.logger.debug("Request #".concat(t,": Performing ").concat(e.toUpperCase()," request: ").concat(r)),l=function(l){var d,y,g,w,O,S,j;return n(this,(function(n){switch(n.label){case 0:if(d=h.getNextNode(t),h.logger.debug("Request #".concat(t,": Attempting ").concat(e.toUpperCase()," request Try #").concat(l," to Node ").concat(d.index)),v&&v.aborted)return[2,{value:Promise.reject(new Error("Request aborted by caller."))}];y=void 0,n.label=1;case 1:return n.trys.push([1,3,5,6]),g={method:e,url:h.uriFor(r,d),headers:Object.assign({},h.defaultHeaders(),m,h.additionalUserHeaders),maxContentLength:1/0,maxBodyLength:1/0,responseType:b,validateStatus:function(e){return e>0},transformResponse:[function(e,t){var n=e;return void 0!==t&&"string"==typeof e&&t["content-type"]&&t["content-type"].startsWith("application/json")&&(n=JSON.parse(e)),n}]},!0!==_&&(g.timeout=1e3*h.connectionTimeoutSeconds),f&&0!==Object.keys(f).length&&(g.params=f),h.sendApiKeyAsQueryParam&&(g.params=g.params||{},g.params["x-typesense-api-key"]=h.apiKey),h.configuration.httpAgent&&(h.logger.debug("Request #".concat(t,": Using custom httpAgent")),g.httpAgent=h.configuration.httpAgent),h.configuration.httpsAgent&&(h.logger.debug("Request #".concat(t,": Using custom httpsAgent")),g.httpsAgent=h.configuration.httpsAgent),p&&("string"==typeof p&&0!==p.length||"object"==typeof p&&0!==Object.keys(p).length)&&(g.data=p),v&&(w=i.default.CancelToken,O=w.source(),y=function(){return O.cancel()},v.addEventListener("abort",y),g.cancelToken=O.token),[4,(0,i.default)(g)];case 2:if((S=n.sent()).status>=1&&S.status<=499&&h.setNodeHealthcheck(d,s),h.logger.debug("Request #".concat(t,": Request to Node ").concat(d.index," was made. Response Code was ").concat(S.status,".")),S.status>=200&&S.status<300)return[2,{value:Promise.resolve(S.data)}];if(S.status<500)return[2,{value:Promise.reject(h.customErrorForResponse(S,null===(a=S.data)||void 0===a?void 0:a.message))}];throw h.customErrorForResponse(S,null===(c=S.data)||void 0===c?void 0:c.message);case 3:return j=n.sent(),h.setNodeHealthcheck(d,false),o=j,h.logger.warn("Request #".concat(t,": Request to Node ").concat(d.index,' failed due to "').concat(j.code," ").concat(j.message).concat(null==j.response?"":" - "+JSON.stringify(null===(u=j.response)||void 0===u?void 0:u.data),'"')),h.logger.warn("Request #".concat(t,": Sleeping for ").concat(h.retryIntervalSeconds,"s and then retrying request...")),[4,h.timer(h.retryIntervalSeconds)];case 4:return n.sent(),[3,6];case 5:return v&&y&&v.removeEventListener("abort",y),[7];case 6:return[2]}}))},h=this,d=1,g.label=1;case 1:return d<=this.numRetriesPerRequest+1?[5,l(d)]:[3,4];case 2:if("object"==typeof(y=g.sent()))return[2,y.value];g.label=3;case 3:return d++,[3,1];case 4:return this.logger.debug("Request #".concat(t,": No retries left. Raising last error")),[2,Promise.reject(o)]}}))}))},e.prototype.getNextNode=function(e){if(void 0===e&&(e=0),null!=this.nearestNode){if(this.logger.debug("Request #".concat(e,": Nodes Health: Node ").concat(this.nearestNode.index," is ").concat(!0===this.nearestNode.isHealthy?"Healthy":"Unhealthy")),!0===this.nearestNode.isHealthy||this.nodeDueForHealthcheck(this.nearestNode,e))return this.logger.debug("Request #".concat(e,": Updated current node to Node ").concat(this.nearestNode.index)),this.nearestNode;this.logger.debug("Request #".concat(e,": Falling back to individual nodes"))}this.logger.debug("Request #".concat(e,": Nodes Health: ").concat(this.nodes.map((function(e){return"Node ".concat(e.index," is ").concat(!0===e.isHealthy?"Healthy":"Unhealthy")})).join(" || ")));for(var t=this.nodes[0],n=0;n<=this.nodes.length;n++)if(this.currentNodeIndex=(this.currentNodeIndex+1)%this.nodes.length,!0===(t=this.nodes[this.currentNodeIndex]).isHealthy||this.nodeDueForHealthcheck(t,e))return this.logger.debug("Request #".concat(e,": Updated current node to Node ").concat(t.index)),t;return this.logger.debug("Request #".concat(e,": No healthy nodes were found. Returning the next node, Node ").concat(t.index)),t},e.prototype.nodeDueForHealthcheck=function(e,t){void 0===t&&(t=0);var n=Date.now()-e.lastAccessTimestamp>1e3*this.healthcheckIntervalSeconds;return n&&this.logger.debug("Request #".concat(t,": Node ").concat(e.index," has exceeded healtcheckIntervalSeconds of ").concat(this.healthcheckIntervalSeconds,". Adding it back into rotation.")),n},e.prototype.initializeMetadataForNodes=function(){var e=this;null!=this.nearestNode&&(this.nearestNode.index="nearestNode",this.setNodeHealthcheck(this.nearestNode,s)),this.nodes.forEach((function(t,n){t.index=n,e.setNodeHealthcheck(t,s)}))},e.prototype.setNodeHealthcheck=function(e,t){e.isHealthy=t,e.lastAccessTimestamp=Date.now()},e.prototype.uriFor=function(e,t){return null!=t.url?"".concat(t.url).concat(e):"".concat(t.protocol,"://").concat(t.host,":").concat(t.port).concat(t.path).concat(e)},e.prototype.defaultHeaders=function(){var e={};return this.sendApiKeyAsQueryParam||(e["X-TYPESENSE-API-KEY"]=this.apiKey),e["Content-Type"]="application/json",e},e.prototype.timer=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,1e3*e)}))]}))}))},e.prototype.customErrorForResponse=function(e,t){var n="Request failed with HTTP code ".concat(e.status);"string"==typeof t&&""!==t.trim()&&(n+=" | Server said: ".concat(t));var r=new a.default(n);return(r=400===e.status?new o.RequestMalformed(n):401===e.status?new o.RequestUnauthorized(n):404===e.status?new o.ObjectNotFound(n):409===e.status?new o.ObjectAlreadyExists(n):422===e.status?new o.ObjectUnprocessable(n):e.status>=500&&e.status<=599?new o.ServerError(n):new o.HTTPError(n)).httpStatus=e.status,r},e}();return pe.default=c,pe}var ye,ve={};function ge(){if(ye)return ve;ye=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(ve,"__esModule",{value:!0});var r="/collections",i=function(){function e(e){this.apiCall=e}return e.prototype.create=function(e,i){return void 0===i&&(i={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.post(r,e,i)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(r)]}))}))},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return r},enumerable:!1,configurable:!0}),e}();return ve.default=i,ve}var be,we,_e,Oe={},Se={},je={},Pe={};function Re(){if(be)return Pe;be=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(Pe,"__esModule",{value:!0});var i=function(){function e(){this.responseCache=new Map,this.responsePromiseCache=new Map}return e.prototype.clearCache=function(){this.responseCache=new Map,this.responsePromiseCache=new Map},e.prototype.perform=function(e,i,o,a){return t(this,void 0,void 0,(function(){var t,s,c,u,l,f,h,p,d,m,y;return n(this,(function(n){switch(n.label){case 0:if(t=a.cacheResponseForSeconds,s=void 0===t?120:t,c=a.maxSize,u=void 0===c?100:c,s<=0||u<=0)return[2,i.call.apply(i,r([e],o,!1))];if(l=JSON.stringify(o),f=this.responseCache.get(l),h=Date.now(),f){if(h-f.requestTimestamp<1e3*s)return this.responseCache.delete(l),this.responseCache.set(l,f),[2,Promise.resolve(f.response)];this.responseCache.delete(l)}if(p=this.responsePromiseCache.get(l)){if(h-p.requestTimestamp<1e3*s)return this.responsePromiseCache.delete(l),this.responsePromiseCache.set(l,p),[2,p.responsePromise];this.responsePromiseCache.delete(l)}return d=i.call.apply(i,r([e],o,!1)),this.responsePromiseCache.set(l,{requestTimestamp:h,responsePromise:d}),[4,d];case 1:return m=n.sent(),this.responseCache.set(l,{requestTimestamp:h,response:m}),this.responseCache.size>u&&(y=this.responseCache.keys().next().value,this.responseCache.delete(y)),this.responsePromiseCache.size>u&&(y=this.responsePromiseCache.keys().next().value,this.responsePromiseCache.delete(y)),[2,m]}}))}))},e}();return Pe.default=i,Pe}function xe(){if(we)return je;we=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(je,"__esModule",{value:!0}),je.SearchOnlyDocuments=void 0;var i=r(Re()),o=r(ge()),a="/documents",s=function(){function e(e,t,n){this.collectionName=e,this.apiCall=t,this.configuration=n,this.requestWithCache=new i.default}return e.prototype.clearCache=function(){this.requestWithCache.clearCache()},e.prototype.search=function(e,r){var i=void 0===r?{}:r,o=i.cacheSearchResultsForSeconds,a=void 0===o?this.configuration.cacheSearchResultsForSeconds:o,s=i.abortSignal,c=void 0===s?null:s;return t(this,void 0,void 0,(function(){var t,r,i;return n(this,(function(n){for(r in t={},!0===this.configuration.useServerSideSearchCache&&(t.use_cache=!0),e)Array.isArray(e[r])&&(t[r]=e[r].join(","));return i=Object.assign({},e,t),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.get,[this.endpointPath("search"),i,{abortSignal:c}],{cacheResponseForSeconds:a})]}))}))},e.prototype.endpointPath=function(e){return"".concat(o.default.RESOURCEPATH,"/").concat(this.collectionName).concat(a).concat(void 0===e?"":"/"+e)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return a},enumerable:!1,configurable:!0}),e}();return je.SearchOnlyDocuments=s,je}function Ee(){if(_e)return Se;_e=1;var t,n=e&&e.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Se,"__esModule",{value:!0});var o=ce(),a=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return n(t,e),t.prototype.create=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){return i(this,(function(n){if(!e)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),e,t)]}))}))},t.prototype.upsert=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){return i(this,(function(n){if(!e)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),e,Object.assign({},t,{action:"upsert"}))]}))}))},t.prototype.update=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){return i(this,(function(n){if(!e)throw new Error("No document provided");return null!=t.filter_by?[2,this.apiCall.patch(this.endpointPath(),e,Object.assign({},t))]:[2,this.apiCall.post(this.endpointPath(),e,Object.assign({},t,{action:"update"}))]}))}))},t.prototype.delete=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.apiCall.delete(this.endpointPath(),e)]}))}))},t.prototype.createMany=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){return i(this,(function(n){return this.configuration.logger.warn("createMany is deprecated and will be removed in a future version. Use import instead, which now takes both an array of documents or a JSONL string of documents"),[2,this.import(e,t)]}))}))},t.prototype.import=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var n,r,a,s;return i(this,(function(i){switch(i.label){case 0:if(Array.isArray(e))try{n=e.map((function(e){return JSON.stringify(e)})).join("\n")}catch(e){if(RangeError instanceof e&&(null==e?void 0:e.includes("Too many properties to enumerate")))throw new Error("".concat(e,"\n          It looks like you have reached a Node.js limit that restricts the number of keys in an Object: https://stackoverflow.com/questions/9282869/are-there-limits-to-the-number-of-properties-in-a-javascript-object\n\n          Please try reducing the number of keys in your document, or using CURL to import your data.\n          "));throw new Error(e)}else n=e;return[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:t,bodyParameters:n,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0})];case 1:if(r=i.sent(),Array.isArray(e)){if(a=r.split("\n").map((function(e){return JSON.parse(e)})),s=a.filter((function(e){return!1===e.success})),s.length>0)throw new o.ImportError("".concat(a.length-s.length," documents imported successfully, ").concat(s.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),a);return[2,a]}return[2,r]}}))}))},t.prototype.export=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.apiCall.get(this.endpointPath("export"),e)]}))}))},t.prototype.exportStream=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.apiCall.get(this.endpointPath("export"),e,{responseType:"stream"})]}))}))},t}(xe().SearchOnlyDocuments);return Se.default=a,Se}var Ce,ke={};function Te(){if(Ce)return ke;Ce=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});var i=r(ge()),o=function(){function e(e,t){this.collectionName=e,this.apiCall=t}return e.prototype.upsert=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(e),r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.endpointPath=function(t){return"".concat(i.default.RESOURCEPATH,"/").concat(this.collectionName).concat(e.RESOURCEPATH).concat(void 0===t?"":"/"+t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/overrides"},enumerable:!1,configurable:!0}),e}();return ke.default=o,ke}var Fe,Ae={};function Ne(){if(Fe)return Ae;Fe=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});var i=r(ge()),o=r(Te()),a=function(){function e(e,t,n){this.collectionName=e,this.overrideId=t,this.apiCall=n}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.collectionName).concat(o.default.RESOURCEPATH,"/").concat(this.overrideId)},e}();return Ae.default=a,Ae}var Ie,De={};function He(){if(Ie)return De;Ie=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(De,"__esModule",{value:!0});var i=r(ge()),o=function(){function e(e,t){this.collectionName=e,this.apiCall=t}return e.prototype.upsert=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(e),r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.endpointPath=function(t){return"".concat(i.default.RESOURCEPATH,"/").concat(this.collectionName).concat(e.RESOURCEPATH).concat(void 0===t?"":"/"+t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/synonyms"},enumerable:!1,configurable:!0}),e}();return De.default=o,De}var Le,Me={};function Ue(){if(Le)return Me;Le=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0});var i=r(ge()),o=r(He()),a=function(){function e(e,t,n){this.collectionName=e,this.synonymId=t,this.apiCall=n}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.collectionName).concat(o.default.RESOURCEPATH,"/").concat(this.synonymId)},e}();return Me.default=a,Me}var qe,Be,Qe={};function We(){if(qe)return Qe;qe=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.Document=void 0;var i=r(ge()),o=r(Ee()),a=function(){function e(e,t,n){this.collectionName=e,this.documentId=t,this.apiCall=n}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.update=function(e,r){return void 0===r&&(r={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.patch(this.endpointPath(),e,r)]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.collectionName).concat(o.default.RESOURCEPATH,"/").concat(this.documentId)},e}();return Qe.Document=a,Qe}function $e(){if(Be)return Oe;Be=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});var i=r(ge()),o=r(Ee()),a=ce(),s=r(Te()),c=r(Ne()),u=r(He()),l=r(Ue()),f=We(),h=function(){function e(e,t,n){this.name=e,this.apiCall=t,this.configuration=n,this.individualDocuments={},this.individualOverrides={},this.individualSynonyms={},this.name=e,this.apiCall=t,this.configuration=n,this._documents=new o.default(this.name,this.apiCall,this.configuration),this._overrides=new s.default(this.name,this.apiCall),this._synonyms=new u.default(this.name,this.apiCall)}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.update=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.patch(this.endpointPath(),e)]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.exists=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.retrieve()];case 1:return t.sent(),[2,!0];case 2:if((e=t.sent())instanceof a.ObjectNotFound)return[2,!1];throw e;case 3:return[2]}}))}))},e.prototype.documents=function(e){return e?(void 0===this.individualDocuments[e]&&(this.individualDocuments[e]=new f.Document(this.name,e,this.apiCall)),this.individualDocuments[e]):this._documents},e.prototype.overrides=function(e){return void 0===e?this._overrides:(void 0===this.individualOverrides[e]&&(this.individualOverrides[e]=new c.default(this.name,e,this.apiCall)),this.individualOverrides[e])},e.prototype.synonyms=function(e){return void 0===e?this._synonyms:(void 0===this.individualSynonyms[e]&&(this.individualSynonyms[e]=new l.default(this.name,e,this.apiCall)),this.individualSynonyms[e])},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.name)},e}();return Oe.default=h,Oe}var Ve,Ge={};function Ke(){if(Ve)return Ge;Ve=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Ge,"__esModule",{value:!0});var r="/aliases",i=function(){function e(e){this.apiCall=e}return e.prototype.upsert=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(e),r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(r)]}))}))},e.prototype.endpointPath=function(t){return"".concat(e.RESOURCEPATH,"/").concat(t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return r},enumerable:!1,configurable:!0}),e}();return Ge.default=i,Ge}var ze,Je={};function Xe(){if(ze)return Je;ze=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});var i=r(Ke()),o=function(){function e(e,t){this.name=e,this.apiCall=t}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.name)},e}();return Je.default=o,Je}var Ye,Ze={},et=n(Object.freeze({__proto__:null,default:{}}));function tt(){if(Ye)return Ze;Ye=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Ze,"__esModule",{value:!0});var r=et,i="/keys",o=function(){function e(e){this.apiCall=e,this.apiCall=e}return e.prototype.create=function(r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.post(e.RESOURCEPATH,r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(i)]}))}))},e.prototype.generateScopedSearchKey=function(e,t){var n=JSON.stringify(t),i=Buffer.from((0,r.createHmac)("sha256",e).update(n).digest("base64")),o=e.substr(0,4),a="".concat(i).concat(o).concat(n);return Buffer.from(a).toString("base64")},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return i},enumerable:!1,configurable:!0}),e}();return Ze.default=o,Ze}var nt,rt={};function it(){if(nt)return rt;nt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});var i=r(tt()),o=function(){function e(e,t){this.id=e,this.apiCall=t}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.id)},e}();return rt.default=o,rt}var ot,at={};function st(){if(ot)return at;ot=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(at,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get("/debug")]}))}))},e}();return at.default=r,at}var ct,ut={};function lt(){if(ct)return ut;ct=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(ut,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get("/metrics.json")]}))}))},e}();return ut.default=r,ut}var ft,ht={};function pt(){if(ft)return ht;ft=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(ht,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get("/health")]}))}))},e}();return ht.default=r,ht}var dt,mt={};function yt(){if(dt)return mt;dt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(mt,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e}return e.prototype.perform=function(e,r){return void 0===r&&(r={}),t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.post("".concat("/operations","/").concat(e),{},r)]}))}))},e}();return mt.default=r,mt}var vt,gt={};function bt(){if(vt)return gt;vt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});var i=r(Re()),o=function(){function e(e,t,n){void 0===n&&(n=!1),this.apiCall=e,this.configuration=t,this.useTextContentType=n,this.requestWithCache=new i.default}return e.prototype.clearCache=function(){this.requestWithCache.clearCache()},e.prototype.perform=function(e,r,i){void 0===r&&(r={});var o=(void 0===i?{}:i).cacheSearchResultsForSeconds,a=void 0===o?this.configuration.cacheSearchResultsForSeconds:o;return t(this,void 0,void 0,(function(){var t,i,o;return n(this,(function(n){return t={},this.useTextContentType&&(t["content-type"]="text/plain"),i={},!0===this.configuration.useServerSideSearchCache&&(i.use_cache=!0),o=Object.assign({},r,i),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.post,["/multi_search",e,o,t],{cacheResponseForSeconds:a})]}))}))},e}();return gt.default=o,gt}var wt,_t={};function Ot(){if(wt)return _t;wt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(_t,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e}return e.prototype.upsert=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(e),r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.endpointPath=function(t){return"".concat(e.RESOURCEPATH).concat(void 0===t?"":"/"+t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/presets"},enumerable:!1,configurable:!0}),e}();return _t.default=r,_t}var St,jt={};function Pt(){if(St)return jt;St=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});var i=r(Ot()),o=function(){function e(e,t){this.presetId=e,this.apiCall=t}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.presetId)},e}();return jt.default=o,jt}var Rt,xt={},Et={};function Ct(){if(Rt)return Et;Rt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Et,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e,this.apiCall=e}return e.prototype.upsert=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(e),r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.endpointPath=function(t){return"".concat(e.RESOURCEPATH).concat(void 0===t?"":"/"+t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/analytics/rules"},enumerable:!1,configurable:!0}),e}();return Et.default=r,Et}var kt,Tt,Ft={};function At(){if(kt)return Ft;kt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});var i=r(Ct()),o=function(){function e(e,t){this.name=e,this.apiCall=t}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.name)},e}();return Ft.default=o,Ft}var Nt,It={};function Dt(){if(Nt)return It;Nt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(It,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e}return e.prototype.upsert=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(e),r)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.endpointPath=function(t){return"".concat(e.RESOURCEPATH).concat(void 0===t?"":"/"+t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/stopwords"},enumerable:!1,configurable:!0}),e}();return It.default=r,It}var Ht,Lt={};function Mt(){if(Ht)return Lt;Ht=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lt,"__esModule",{value:!0});var i=r(Dt()),o=function(){function e(e,t){this.stopwordId=e,this.apiCall=t}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.stopwordId)},e}();return Lt.default=o,Lt}var Ut,qt={},Bt={};function Qt(){if(Ut)return Bt;Ut=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Bt,"__esModule",{value:!0});var r=function(){function e(e){this.apiCall=e,this.apiCall=e}return e.prototype.create=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.post(this.endpointPath(),e)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.endpointPath=function(t){return"".concat(e.RESOURCEPATH).concat(void 0===t?"":"/"+t)},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/conversations/models"},enumerable:!1,configurable:!0}),e}();return Bt.default=r,Bt}var Wt,$t,Vt={};function Gt(){if(Wt)return Vt;Wt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0});var i=r(Qt()),o=function(){function e(e,t){this.id=e,this.apiCall=t}return e.prototype.update=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(),e)]}))}))},e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.id)},e}();return Vt.default=o,Vt}function Kt(){if($t)return qt;$t=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});var i=r(Qt()),o=r(Gt()),a="/conversations",s=function(){function e(e){this.apiCall=e,this.individualConversationModels={},this.apiCall=e,this._conversationsModels=new i.default(this.apiCall)}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(a)]}))}))},e.prototype.models=function(e){return void 0===e?this._conversationsModels:(void 0===this.individualConversationModels[e]&&(this.individualConversationModels[e]=new o.default(e,this.apiCall)),this.individualConversationModels[e])},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return a},enumerable:!1,configurable:!0}),e}();return qt.default=s,qt}var zt,Jt,Xt={};function Yt(){if(zt)return Xt;zt=1;var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xt,"__esModule",{value:!0});var i=r(Kt()),o=function(){function e(e,t){this.id=e,this.apiCall=t}return e.prototype.retrieve=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.get(this.endpointPath())]}))}))},e.prototype.update=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this.apiCall.put(this.endpointPath(),e)]}))}))},e.prototype.delete=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.apiCall.delete(this.endpointPath())]}))}))},e.prototype.endpointPath=function(){return"".concat(i.default.RESOURCEPATH,"/").concat(this.id)},e}();return Xt.default=o,Xt}function Zt(){if(Jt)return N;Jt=1;var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N,"__esModule",{value:!0});var n=t(ue()),r=t(me()),i=t(ge()),o=t($e()),a=t(Ke()),s=t(Xe()),c=t(tt()),u=t(it()),l=t(st()),f=t(lt()),h=t(pt()),p=t(yt()),d=t(bt()),m=t(Ot()),y=t(Pt()),v=t(function(){if(Tt)return xt;Tt=1;var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});var n=t(Ct()),r=t(At()),i=function(){function e(e){this.apiCall=e,this.individualAnalyticsRules={},this.apiCall=e,this._analyticsRules=new n.default(this.apiCall)}return e.prototype.rules=function(e){return void 0===e?this._analyticsRules:(void 0===this.individualAnalyticsRules[e]&&(this.individualAnalyticsRules[e]=new r.default(e,this.apiCall)),this.individualAnalyticsRules[e])},Object.defineProperty(e,"RESOURCEPATH",{get:function(){return"/analytics"},enumerable:!1,configurable:!0}),e}();return xt.default=i,xt}()),g=t(Dt()),b=t(Mt()),w=t(Kt()),_=t(Yt()),O=function(){function e(e){var t;e.sendApiKeyAsQueryParam=null!==(t=e.sendApiKeyAsQueryParam)&&void 0!==t&&t,this.configuration=new n.default(e),this.apiCall=new r.default(this.configuration),this.debug=new l.default(this.apiCall),this.metrics=new f.default(this.apiCall),this.health=new h.default(this.apiCall),this.operations=new p.default(this.apiCall),this.multiSearch=new d.default(this.apiCall,this.configuration),this._collections=new i.default(this.apiCall),this.individualCollections={},this._aliases=new a.default(this.apiCall),this.individualAliases={},this._keys=new c.default(this.apiCall),this.individualKeys={},this._presets=new m.default(this.apiCall),this.individualPresets={},this._stopwords=new g.default(this.apiCall),this.individualStopwords={},this.analytics=new v.default(this.apiCall),this._conversations=new w.default(this.apiCall),this.individualConversations={}}return e.prototype.collections=function(e){return void 0===e?this._collections:(void 0===this.individualCollections[e]&&(this.individualCollections[e]=new o.default(e,this.apiCall,this.configuration)),this.individualCollections[e])},e.prototype.aliases=function(e){return void 0===e?this._aliases:(void 0===this.individualAliases[e]&&(this.individualAliases[e]=new s.default(e,this.apiCall)),this.individualAliases[e])},e.prototype.keys=function(e){return void 0===e?this._keys:(void 0===this.individualKeys[e]&&(this.individualKeys[e]=new u.default(e,this.apiCall)),this.individualKeys[e])},e.prototype.presets=function(e){return void 0===e?this._presets:(void 0===this.individualPresets[e]&&(this.individualPresets[e]=new y.default(e,this.apiCall)),this.individualPresets[e])},e.prototype.stopwords=function(e){return void 0===e?this._stopwords:(void 0===this.individualStopwords[e]&&(this.individualStopwords[e]=new b.default(e,this.apiCall)),this.individualStopwords[e])},e.prototype.conversations=function(e){return void 0===e?this._conversations:(void 0===this.individualConversations[e]&&(this.individualConversations[e]=new _.default(e,this.apiCall)),this.individualConversations[e])},e}();return N.default=O,N}var en,tn,nn,rn={},on={};function an(){if(tn)return rn;tn=1;var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});var n=t(ue()),r=t(me()),i=t(bt()),o=function(){if(en)return on;en=1,Object.defineProperty(on,"__esModule",{value:!0}),on.SearchOnlyCollection=void 0;var e=xe(),t=function(){function t(t,n,r){this.name=t,this.apiCall=n,this.configuration=r,this._documents=new e.SearchOnlyDocuments(this.name,this.apiCall,this.configuration)}return t.prototype.documents=function(){return this._documents},t}();return on.SearchOnlyCollection=t,on}(),a=function(){function e(e){var t;e.sendApiKeyAsQueryParam=null===(t=e.sendApiKeyAsQueryParam)||void 0===t||t,!0===e.sendApiKeyAsQueryParam&&(e.apiKey||"").length>2e3&&(console.warn("[typesense] API Key is longer than 2000 characters which is over the allowed limit, so disabling sending it as a query parameter."),e.sendApiKeyAsQueryParam=!1),this.configuration=new n.default(e),this.apiCall=new r.default(this.configuration),this.multiSearch=new i.default(this.apiCall,this.configuration,!0),this.individualCollections={}}return e.prototype.clearCache=function(){this.multiSearch.clearCache(),Object.entries(this.individualCollections).forEach((function(e){e[0],e[1].documents().clearCache()}))},e.prototype.collections=function(e){if(e)return void 0===this.individualCollections[e]&&(this.individualCollections[e]=new o.SearchOnlyCollection(e,this.apiCall,this.configuration)),this.individualCollections[e];throw new Error("Typesense.SearchClient only supports search operations, so the collectionName that needs to be searched must be specified. Use Typesense.Client if you need to access the collection object.")},e}();return rn.default=a,rn}var sn,cn={},un={exports:{}},ln={exports:{}};function fn(){return sn||(sn=1,function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(ln)),ln.exports}var hn,pn={exports:{}};function dn(){return hn||(hn=1,function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports}(pn)),pn.exports}var mn,yn,vn={exports:{}},gn={exports:{}};function bn(){return mn||(mn=1,function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(gn)),gn.exports}function wn(){return yn||(yn=1,function(e){var t=bn();e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(vn)),vn.exports}var _n,On,Sn,jn={exports:{}};function Pn(){return _n||(_n=1,function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(jn)),jn.exports}function Rn(){return On||(On=1,function(e){var t=fn(),n=dn(),r=wn(),i=Pn();e.exports=function(e,o){return t(e)||n(e,o)||r(e,o)||i()},e.exports.__esModule=!0,e.exports.default=e.exports}(un)),un.exports}var xn,En={},Cn={exports:{}},kn={exports:{}};function Tn(){return xn||(xn=1,function(e){var t=bn();e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(kn)),kn.exports}var Fn,An={exports:{}};function Nn(){return Fn||(Fn=1,function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(An)),An.exports}var In,Dn,Hn={exports:{}};function Ln(){return In||(In=1,function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(Hn)),Hn.exports}var Mn,Un={exports:{}};var qn,Bn,Qn={};function Wn(){if(qn)return Qn;qn=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.utils=void 0;var e={_adaptHighlightTag:function(e,t,n){return e.replace(new RegExp("<mark>","g"),t||"<mark>").replace(new RegExp("</mark>","g"),n||"</mark>")},_adaptNumberOfPages:function(){var e=this.typesenseResponse.found/this.typesenseResponse.request_params.per_page;return Number.isFinite(e)?Math.ceil(e):1}};return Qn.utils=e,Qn}function $n(){if(Bn)return En;Bn=1;var e=l;Object.defineProperty(En,"__esModule",{value:!0}),En.SearchResponseAdapter=void 0;var t=e(p()),n=e(Rn()),r=e((Dn||(Dn=1,function(e){var t=Tn(),n=Nn(),r=wn(),i=Ln();e.exports=function(e){return t(e)||n(e)||r(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports}(Cn)),Cn.exports)),i=e((Mn||(Mn=1,function(e){var t=E();e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(Un)),Un.exports)),o=e(w()),a=e(C()),s=Wn();function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,o.default)(this,e),this.typesenseResponse=t,this.instantsearchRequest=n,this.configuration=r,this.allTypesenseResponses=i}return(0,a.default)(e,[{key:"_adaptGroupedHits",value:function(e){var t=this,n=[];return n=e.map((function(e){var n=t._adaptHits(e.hits);return n.forEach((function(t){t.group_key=t._group_key=e.group_key,e.found&&(t._group_found=e.found)})),n})),n=this.configuration.flattenGroupedHits?n.flat():n.map((function(e){return u(u({},e[0]),{},{_grouped_hits:e})}))}},{key:"_adaptHits",value:function(e){var t=this;return e.map((function(e){var n=u({},e.document);n.objectID=e.document.id,n._snippetResult=t._adaptHighlightResult(e,"snippet"),n._highlightResult=t._adaptHighlightResult(e,"value"),n._rawTypesenseHit=e,["text_match","geo_distance_meters","curated","text_match_info","hybrid_search_info","vector_distance"].forEach((function(t){Object.keys(e).includes(t)&&!Object.keys(n).includes(t)&&(n[t]=e[t])}));var r=n[t.configuration.geoLocationField];return r&&(n._geoloc={lat:r[0],lng:r[1]}),n}))}},{key:"_adaptHighlightResult",value:function(e,t){var n={};return null!=e.highlight&&this.isHighlightPost0240RCN32Format(e.highlight)?this.adaptHighlightObject(e,n,t):this.adaptHighlightsArray(e,n,t),n}},{key:"isHighlightPost0240RCN32Format",value:function(e){return null==e.full&&null==e.snippet}},{key:"adaptHighlightsArray",value:function(e,o,a){var s=this;Object.assign.apply(Object,[o].concat((0,r.default)(Object.entries(e.document).map((function(e){var t=(0,n.default)(e,2),r=t[0],o=t[1];return(0,i.default)({},r,{value:o,matchLevel:"none",matchedWords:[]})}))))),e.highlights.forEach((function(e){o[e.field]={value:e[a]||e["".concat(a,"s")],matchLevel:"full",matchedWords:e.matched_tokens},e.indices&&(o[e.field].matchedIndices=e.indices)})),Object.entries(o).forEach((function(r){var i=(0,n.default)(r,2),c=i[0],u=i[1],l=c,f=u.value,h=u.matchLevel,p=u.matchedWords,d=u.matchedIndices;null==f?o[l]=s._adaptHighlightNullValue():Array.isArray(f)?(o[l]=[],e.document[l].forEach((function(e,n){d&&d.includes(n)?o[l].push({value:s._adaptHighlightTag("".concat(f[d.indexOf(n)]),s.instantsearchRequest.params.highlightPreTag,s.instantsearchRequest.params.highlightPostTag),matchLevel:h,matchedWords:p[n]}):"object"===(0,t.default)(e)?o[l].push(s._adaptHighlightInObjectValue(e,{},a)):o[l].push({value:"".concat(e),matchLevel:"none",matchedWords:[]})}))):"object"===(0,t.default)(f)?o[l]=s._adaptHighlightInObjectValue(f,{},a):o[l].value=s._adaptHighlightTag("".concat(f),s.instantsearchRequest.params.highlightPreTag,s.instantsearchRequest.params.highlightPostTag)}))}},{key:"adaptHighlightObject",value:function(e,t,n){Object.assign(t,this._adaptHighlightInObjectValue(e.document,e.highlight,n))}},{key:"_adaptHighlightInObjectValue",value:function(e,o,a){var s=this;return Object.assign.apply(Object,[{}].concat((0,r.default)(Object.entries(e).map((function(e){var r,c=(0,n.default)(e,2),u=c[0],l=c[1];if(null==l)r=s._adaptHighlightNullValue();else if(Array.isArray(l)){var f;r=s._adaptHighlightInArrayValue(l,null!==(f=null==o?void 0:o[u])&&void 0!==f?f:[],a)}else if("object"===(0,t.default)(l)){var h;r=s._adaptHighlightInObjectValue(l,null!==(h=null==o?void 0:o[u])&&void 0!==h?h:{},a)}else r=s._adaptHighlightInPrimitiveValue(l,null==o?void 0:o[u],a);return(0,i.default)({},u,r)})))))}},{key:"_adaptHighlightInArrayValue",value:function(e,n,r){var i=this;return e.map((function(e,o){var a;if(null==e)a=i._adaptHighlightNullValue();else if(Array.isArray(e)){var s;a=i._adaptHighlightInArrayValue(e,null!==(s=null==n?void 0:n[o])&&void 0!==s?s:[],r)}else if("object"===(0,t.default)(e)){var c;a=i._adaptHighlightInObjectValue(e,null!==(c=null==n?void 0:n[o])&&void 0!==c?c:{},r)}else a=i._adaptHighlightInPrimitiveValue(e,null==n?void 0:n[o],r);return a}))}},{key:"_adaptHighlightInPrimitiveValue",value:function(e,t,n){var r,i;return null!=t?{value:this._adaptHighlightTag("".concat(null!==(r=null!==(i=t[n])&&void 0!==i?i:t.highlight)&&void 0!==r?r:t.snippet),this.instantsearchRequest.params.highlightPreTag,this.instantsearchRequest.params.highlightPostTag),matchLevel:(t.matched_tokens||[]).length>0?"full":"none",matchedWords:t.matched_tokens||[]}:{value:this._adaptHighlightTag("".concat(e),this.instantsearchRequest.params.highlightPreTag,this.instantsearchRequest.params.highlightPostTag),matchLevel:"none",matchedWords:[]}}},{key:"_adaptHighlightNullValue",value:function(){return{value:"",matchLevel:"none",matchedWords:[]}}},{key:"_adaptFacets",value:function(e){var t={};return e.forEach((function(e){Object.assign(t,(0,i.default)({},e.field_name,Object.assign.apply(Object,[{}].concat((0,r.default)(e.counts.map((function(e){return(0,i.default)({},e.value,e.count)})))))))})),t}},{key:"_adaptFacetStats",value:function(e){var t={};return e.forEach((function(e){Object.keys(e.stats).length>0&&Object.assign(t,(0,i.default)({},e.field_name,e.stats))})),t}},{key:"_adaptRenderingContent",value:function(e){var t,n=Object.assign({},this.configuration.renderingContent);return null==(null===(t=n.facetOrdering)||void 0===t||null===(t=t.facets)||void 0===t?void 0:t.order)&&(n.facetOrdering=n.facetOrdering||{},n.facetOrdering.facets=n.facetOrdering.facets||{},n.facetOrdering.facets.order=(0,r.default)(new Set(e.map((function(e){return e.field_name})).concat(this.allTypesenseResponses.map((function(e){return e.facet_counts||[]})).flat().map((function(e){return e.field_name})).filter((function(e){return e})))))),n}},{key:"adapt",value:function(){var e=this._adaptRenderingContent(this.typesenseResponse.facet_counts||[]);return u({hits:this.typesenseResponse.grouped_hits?this._adaptGroupedHits(this.typesenseResponse.grouped_hits):this._adaptHits(this.typesenseResponse.hits),nbHits:this.typesenseResponse.found,page:this.typesenseResponse.page-1,nbPages:this._adaptNumberOfPages(),hitsPerPage:this.typesenseResponse.request_params.per_page,facets:this._adaptFacets(this.typesenseResponse.facet_counts||[]),facets_stats:this._adaptFacetStats(this.typesenseResponse.facet_counts||{}),query:this.typesenseResponse.request_params.q,processingTimeMS:this.typesenseResponse.search_time_ms},Object.keys(e).length>0?{renderingContent:e}:null)}}]),e}();return En.SearchResponseAdapter=f,Object.assign(f.prototype,s.utils),En}var Vn,Gn={};!function(t){var n=l;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(d()),i=n(v()),o=n(w()),a=n(C()),s=function(){if(k)return T;k=1;var e=l;Object.defineProperty(T,"__esModule",{value:!0}),T.Configuration=void 0;var t=e(w()),n=e(C()),r=function(){function e(){var n,r,i,o,a,s,c,u,l,f,h,p,d,m,y,v,g,b,w=this,_=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.default)(this,e),this.server=_.server||{nodes:[{host:"localhost",port:"8108",path:"",protocol:"http"}]},this.server.cacheSearchResultsForSeconds=null!==(n=this.server.cacheSearchResultsForSeconds)&&void 0!==n?n:120,this.additionalSearchParameters=null!==(r=_.additionalSearchParameters)&&void 0!==r?r:{},this.additionalSearchParameters.query_by=null!==(i=null!==(o=this.additionalSearchParameters.queryBy)&&void 0!==o?o:this.additionalSearchParameters.query_by)&&void 0!==i?i:"",this.additionalSearchParameters.preset=null!==(a=null!==(s=this.additionalSearchParameters.preset)&&void 0!==s?s:this.additionalSearchParameters.preset)&&void 0!==a?a:"",this.additionalSearchParameters.sort_by=null!==(c=null!==(u=this.additionalSearchParameters.sortBy)&&void 0!==u?u:this.additionalSearchParameters.sort_by)&&void 0!==c?c:"",this.additionalSearchParameters.highlight_full_fields=null!==(l=null!==(f=this.additionalSearchParameters.highlightFullFields)&&void 0!==f?f:this.additionalSearchParameters.highlight_full_fields)&&void 0!==l?l:this.additionalSearchParameters.query_by,this.geoLocationField=null!==(h=_.geoLocationField)&&void 0!==h?h:"_geoloc",this.facetableFieldsWithSpecialCharacters=null!==(p=_.facetableFieldsWithSpecialCharacters)&&void 0!==p?p:[],this.collectionSpecificSearchParameters=null!==(d=_.collectionSpecificSearchParameters)&&void 0!==d?d:{},Object.keys(this.collectionSpecificSearchParameters).forEach((function(e){var t,n,r,i,o,a,s=w.collectionSpecificSearchParameters[e];s.query_by=null!==(t=s.queryBy)&&void 0!==t?t:s.query_by,s.preset=null!==(n=s.preset)&&void 0!==n?n:s.preset,s.sort_by=null!==(r=s.sortBy)&&void 0!==r?r:s.sort_by,s.highlight_full_fields=null!==(i=null!==(o=null!==(a=s.highlightFullFields)&&void 0!==a?a:s.highlight_full_fields)&&void 0!==o?o:w.additionalSearchParameters.highlight_full_fields)&&void 0!==i?i:s.query_by,Object.keys(s).forEach((function(e){return void 0===s[e]?delete s[e]:{}}))})),this.renderingContent=_.renderingContent,this.flattenGroupedHits=null===(m=_.flattenGroupedHits)||void 0===m||m,this.facetByOptions=null!==(y=_.facetByOptions)&&void 0!==y?y:{},this.filterByOptions=null!==(v=_.filterByOptions)&&void 0!==v?v:{},this.collectionSpecificFacetByOptions=null!==(g=_.collectionSpecificFacetByOptions)&&void 0!==g?g:{},this.collectionSpecificFilterByOptions=null!==(b=_.collectionSpecificFilterByOptions)&&void 0!==b?b:{}}return(0,n.default)(e,[{key:"validate",value:function(){if((this.additionalSearchParameters.queryBy||Object.values(this.collectionSpecificSearchParameters).some((function(e){return e.queryBy})))&&console.warn("[typesense-instantsearch-adapter] Please use snake_cased versions of parameters in additionalSearchParameters instead of camelCased parameters. For example: Use query_by instead of queryBy. camelCased parameters will be deprecated in a future version. We're making this change so that parameter names are identical to the ones sent to Typesense (which are all snake_cased), and to also keep the types for these parameters in sync with the types defined in typesense-js."),0===this.additionalSearchParameters.query_by.length&&0===this.additionalSearchParameters.preset.length&&(0===Object.keys(this.collectionSpecificSearchParameters).length||Object.values(this.collectionSpecificSearchParameters).some((function(e){return 0===(e.query_by||"").length&&0===(e.preset||"").length}))))throw new Error("[typesense-instantsearch-adapter] Missing parameter: One of additionalSearchParameters.query_by or additionalSearchParameters.preset needs to be set, or all collectionSpecificSearchParameters need to have either .query_by or .preset set.")}}]),e}();return T.Configuration=r,T}(),c=function(){if(nn)return A;nn=1;var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(A,"__esModule",{value:!0}),A.Errors=A.SearchClient=A.Client=void 0;var o=i(Zt());A.Client=o.default;var a=i(an());A.SearchClient=a.default;var s=r(ce());return A.Errors=s,A.default={Client:o.default,SearchClient:a.default,Errors:s},A}(),u=function(){if(Sn)return cn;Sn=1;var e=l;Object.defineProperty(cn,"__esModule",{value:!0}),cn.SearchRequestAdapter=void 0;var t=e(d()),n=e(v()),r=e(Rn()),i=e(w()),o=e(C()),a=function(){function e(t,n,r){(0,i.default)(this,e),this.instantsearchRequests=t,this.typesenseClient=n,this.configuration=r,this.additionalSearchParameters=r.additionalSearchParameters,this.collectionSpecificSearchParameters=r.collectionSpecificSearchParameters}var a;return(0,o.default)(e,[{key:"_shouldUseExactMatchForField",value:function(e,t){var n,r;return!1!==(null===(n=this.configuration.collectionSpecificFilterByOptions)||void 0===n||null===(n=n[t])||void 0===n||null===(n=n[e])||void 0===n?void 0:n.exactMatch)&&!1!==(null===(r=this.configuration.filterByOptions)||void 0===r||null===(r=r[e])||void 0===r?void 0:r.exactMatch)}},{key:"_adaptFacetFilters",value:function(e,t){var n=this,i="";if(!e)return i;var o=e.map((function(e){if(Array.isArray(e)){var i={};e.forEach((function(e){var t=n._parseFacetFilter(e),r=t.fieldName,o=t.fieldValue;i[r]=i[r]||[],i[r].push(o)})),Object.keys(i).length>1&&console.error("[Typesense-Instantsearch-Adapter] Typesense does not support cross-field ORs at the moment. The adapter could not OR values between these fields: ".concat(Object.keys(i).join(",")));var o=Object.keys(i)[0],a=i[o].reduce((function(e,t){return t.startsWith("-")&&!n._isNumber(t)?e[0].push(t.substring(1)):e[1].push(t),e}),[[],[]]),s=(0,r.default)(a,2),c=s[0],u=s[1],l=[];if(u.length>0){var f=n._shouldUseExactMatchForField(o,t)?":=":":";l.push("".concat(o).concat(f,"[").concat(u.map((function(e){return n._escapeFacetValue(e)})).join(","),"]"))}if(c.length>0){var h=n._shouldUseExactMatchForField(o,t)?":!=":":!";l.push("".concat(o).concat(h,"[").concat(c.map((function(e){return n._escapeFacetValue(e)})).join(","),"]"))}var p=l.filter((function(e){return e})).join(" && ");return p}var d,m=n._parseFacetFilter(e),y=m.fieldName,v=m.fieldValue;if(v.startsWith("-")&&!n._isNumber(v)){var g=n._shouldUseExactMatchForField(y,t)?":!=":":!";d="".concat(y).concat(g,"[").concat(n._escapeFacetValue(v.substring(1)),"]")}else{var b=n._shouldUseExactMatchForField(y,t)?":=":":";d="".concat(y).concat(b,"[").concat(n._escapeFacetValue(v),"]")}return d}));return o.join(" && ")}},{key:"_parseFacetFilter",value:function(e){var t,n,r,i,o;if((null===(t=this.configuration.facetableFieldsWithSpecialCharacters)||void 0===t?void 0:t.length)>0){var a=this.configuration.facetableFieldsWithSpecialCharacters.flat().map((function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}));if(n=new RegExp("^(".concat(a.join("|"),"):(.*)$")),null!=(r=e.match(n)))return{fieldName:i="".concat(r[1]),fieldValue:o="".concat(r[2])}}return n=this.constructor.DEFAULT_FACET_FILTER_STRING_MATCHING_REGEX,null==(r=e.match(n))?console.error("[Typesense-Instantsearch-Adapter] Parsing failed for a facet filter `".concat(e,"` with the Regex `").concat(n,"`. If you have field names with special characters, be sure to add them to a parameter called `facetableFieldsWithSpecialCharacters` when instantiating the adapter.")):(i="".concat(r[1]).concat(r[2]),o="".concat(r[3])),{fieldName:i,fieldValue:o}}},{key:"_escapeFacetValue",value:function(e){return"boolean"==typeof e||"true"===e||"false"===e||this._isNumber(e)?e:"`".concat(e,"`")}},{key:"_isNumber",value:function(e){return Number.isInteger(e%1)||!!(e%1)}},{key:"_adaptNumericFilters",value:function(e){var t=this,n="";if(!e)return n;var r={};e.forEach((function(e){var n=t._parseNumericFilter(e),i=n.fieldName,o=n.operator,a=n.fieldValue;r[i]=r[i]||{},r[i][o]=a}));var i=[];return Object.keys(r).forEach((function(e){null!=r[e]["<="]&&null!=r[e][">="]?i.push("".concat(e,":=[").concat(r[e][">="],"..").concat(r[e]["<="],"]")):null!=r[e]["<="]?i.push("".concat(e,":<=").concat(r[e]["<="])):null!=r[e][">="]?i.push("".concat(e,":>=").concat(r[e][">="])):null!=r[e]["="]?i.push("".concat(e,":=").concat(r[e]["="])):console.warn("[Typesense-Instantsearch-Adapter] Unsupported operator found ".concat(JSON.stringify(r[e])))})),i.join(" && ")}},{key:"_parseNumericFilter",value:function(e){var t,n,i,o,a,s;if((null===(t=this.configuration.facetableFieldsWithSpecialCharacters)||void 0===t?void 0:t.length)>0){var c=this.configuration.facetableFieldsWithSpecialCharacters.map((function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}));if(n=new RegExp("^(".concat(c.join("|"),")(<=|>=|>|<|=)(.*)$")),null!=(i=e.match(n))){var u=i,l=(0,r.default)(u,4);return{fieldName:o=l[1],operator:a=l[2],fieldValue:s=l[3]}}}if(n=this.constructor.DEFAULT_NUMERIC_FILTER_STRING_MATCHING_REGEX,null==(i=e.match(n)))console.error("[Typesense-Instantsearch-Adapter] Parsing failed for a numeric filter `".concat(e,"` with the Regex `").concat(n,"`. If you have field names with special characters, be sure to add them to a parameter called `facetableFieldsWithSpecialCharacters` when instantiating the adapter."));else{var f=i,h=(0,r.default)(f,4);o=h[1],a=h[2],s=h[3]}return{fieldName:o,operator:a,fieldValue:s}}},{key:"_adaptGeoFilter",value:function(e){var t=e.insideBoundingBox,n=e.aroundRadius,i=e.aroundLatLng,o=e.insidePolygon;if(t){var a,s,c,u;if(Array.isArray(t)){var l=t.flat(),f=(0,r.default)(l,4);a=f[0],s=f[1],c=f[2],u=f[3]}else{var h=t.split(","),p=(0,r.default)(h,4);a=p[0],s=p[1],c=p[2],u=p[3]}return"".concat(this.configuration.geoLocationField,":(").concat(a,", ").concat(s,", ").concat(a,", ").concat(u,", ").concat(c,", ").concat(u,", ").concat(c,", ").concat(s,")")}if(i||n){if(!n||"all"===n)throw new Error("[Typesense-Instantsearch-Adapter] In Typesense, geo-filtering around a lat/lng also requires a numerical radius. So the `aroundRadius` parameter is required when `aroundLatLng` is used. If you intend to just geo-sort around a lat/long, you want to use the sortBy InstantSearch widget (or a virtual sortBy custom widget).");var d="".concat(parseFloat(n)/1e3," km");return"".concat(this.configuration.geoLocationField,":(").concat(i,", ").concat(d,")")}if(o){var m=o;return Array.isArray(o)&&(m=o.flat().join(",")),"".concat(this.configuration.geoLocationField,":(").concat(m,")")}}},{key:"_adaptFilters",value:function(e,t){var n=[];return e.filters&&n.push(e.filters),n.push(this._adaptFacetFilters(e.facetFilters,t)),n.push(this._adaptNumericFilters(e.numericFilters)),n.push(this._adaptGeoFilter(e)),n.filter((function(e){return e&&""!==e})).join(" && ")}},{key:"_adaptIndexName",value:function(e){return e.match(this.constructor.INDEX_NAME_MATCHING_REGEX)[1]}},{key:"_adaptSortBy",value:function(e){return e.match(this.constructor.INDEX_NAME_MATCHING_REGEX)[3]}},{key:"_adaptFacetBy",value:function(e,t){var n=this;return[e].flat().map((function(e){var r;return null!==(r=n.configuration.collectionSpecificFacetByOptions)&&void 0!==r&&null!==(r=r[t])&&void 0!==r&&r[e]?"".concat(e).concat(n.configuration.collectionSpecificFacetByOptions[t][e]):n.configuration.facetByOptions[e]?"".concat(e).concat(n.configuration.facetByOptions[e]):e})).join(",")}},{key:"_buildSearchParameters",value:function(e){for(var t=e.params,n=e.indexName,i=this._adaptIndexName(n),o={},a=0,s=Object.entries(this.additionalSearchParameters);a<s.length;a++){var c=(0,r.default)(s[a],2),u=c[0],l=c[1];o[this._camelToSnakeCase(u)]=l}if(this.collectionSpecificSearchParameters[i])for(var f=0,h=Object.entries(this.collectionSpecificSearchParameters[i]);f<h.length;f++){var p=(0,r.default)(h[f],2),d=p[0],m=p[1];o[this._camelToSnakeCase(d)]=m}var y=Object.assign({},o),v=this._adaptSortBy(n);return Object.assign(y,{collection:i,q:""===t.query||void 0===t.query?"*":t.query,facet_by:o.facet_by||this._adaptFacetBy(t.facets,i),filter_by:this._adaptFilters(t,i)||o.filter_by,sort_by:v||o.sort_by,max_facet_values:t.maxValuesPerFacet,page:(t.page||0)+1}),t.hitsPerPage&&(y.per_page=t.hitsPerPage),t.facetQuery&&(y.facet_query="".concat(t.facetName,":").concat(t.facetQuery),y.per_page=0),t.typesenseVectorQuery&&(y.vector_query=t.typesenseVectorQuery),Object.fromEntries(Object.entries(y).filter((function(e){var t=(0,r.default)(e,2);t[0];var n=t[1];return null!=n&&""!==n})))}},{key:"_camelToSnakeCase",value:function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}},{key:"request",value:(a=(0,n.default)(t.default.mark((function e(){var n,r=this;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.instantsearchRequests.map((function(e){return r._buildSearchParameters(e)})),e.abrupt("return",this.typesenseClient.multiSearch.perform({searches:n}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}],[{key:"INDEX_NAME_MATCHING_REGEX",get:function(){return new RegExp("^(.+?)(?=(/sort/(.*))|$)")}},{key:"DEFAULT_FACET_FILTER_STRING_MATCHING_REGEX",get:function(){return new RegExp("(.*)((?!:).):(?!:)(.*)")}},{key:"DEFAULT_NUMERIC_FILTER_STRING_MATCHING_REGEX",get:function(){return new RegExp("(.*?)(<=|>=|>|<|=)(.*)")}}]),e}();return cn.SearchRequestAdapter=a,cn}(),f=$n(),h=function(){if(Vn)return Gn;Vn=1;var e=l;Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.FacetSearchResponseAdapter=void 0;var t=e(w()),n=e(C()),r=Wn(),i=function(){function e(n,r){(0,t.default)(this,e),this.typesenseResponse=n,this.instantsearchRequest=r}return(0,n.default)(e,[{key:"_adaptFacetHits",value:function(e){var t=this;return e.find((function(e){return e.field_name===t.instantsearchRequest.params.facetName})).counts.map((function(e){return{value:e.value,highlighted:t._adaptHighlightTag(e.highlighted,t.instantsearchRequest.params.highlightPreTag,t.instantsearchRequest.params.highlightPostTag),count:e.count}}))}},{key:"adapt",value:function(){return{facetHits:this._adaptFacetHits(this.typesenseResponse.facet_counts),exhaustiveFacetsCount:!0,processingTimeMS:this.typesenseResponse.search_time_ms}}}]),e}();return Gn.FacetSearchResponseAdapter=i,Object.assign(i.prototype,r.utils),Gn}(),p=function(){function e(t){var n=this;(0,o.default)(this,e),this.updateConfiguration(t),this.searchClient={clearCache:function(){return n.clearCache()},search:function(e){return n.searchTypesenseAndAdapt(e)},searchForFacetValues:function(e){return n.searchTypesenseForFacetValuesAndAdapt(e)}}}var t,n,l;return(0,a.default)(e,[{key:"searchTypesenseAndAdapt",value:(l=(0,i.default)(r.default.mark((function e(t){var n,i,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._adaptAndPerformTypesenseRequest(t);case 3:return n=e.sent,i=n.results.map((function(e,r){return o._validateTypesenseResult(e),new f.SearchResponseAdapter(e,t[r],o.configuration,n.results).adapt()})),e.abrupt("return",{results:i});case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return l.apply(this,arguments)})},{key:"searchTypesenseForFacetValuesAndAdapt",value:(n=(0,i.default)(r.default.mark((function e(t){var n,i,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._adaptAndPerformTypesenseRequest(t);case 3:return n=e.sent,i=n.results.map((function(e,n){return o._validateTypesenseResult(e),new h.FacetSearchResponseAdapter(e,t[n],o.configuration).adapt()})),e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return n.apply(this,arguments)})},{key:"_adaptAndPerformTypesenseRequest",value:(t=(0,i.default)(r.default.mark((function e(t){var n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.SearchRequestAdapter(t,this.typesenseClient,this.configuration),e.next=3,n.request();case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"clearCache",value:function(){return this.typesenseClient=new c.SearchClient(this.configuration.server),this.searchClient}},{key:"updateConfiguration",value:function(e){return this.configuration=new s.Configuration(e),this.configuration.validate(),this.typesenseClient=new c.SearchClient(this.configuration.server),!0}},{key:"_validateTypesenseResult",value:function(e){if(e.error)throw new Error("".concat(e.code," - ").concat(e.error));if(!e.hits&&!e.grouped_hits)throw new Error("Did not find any hits. ".concat(e.code," - ").concat(e.error))}}]),e}();t.default=p}(i);var Kn=t(i),zn=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",o=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(o)}},Jn=0;function Xn(){}var Yn=function(e,t){return e};function Zn(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((n=e,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(t));var n}var er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tr=/[&<>"']/g,nr=RegExp(tr.source);var rr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ir=/&(amp|quot|lt|gt|#39);/g,or=RegExp(ir.source);function ar(e){return e&&or.test(e)?e.replace(ir,(function(e){return rr[e]})):e}function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function cr(e){if(!function(e){return"object"===sr(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ur(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ur(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dr={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},mr="<mark>",yr="</mark>";function vr(e){return function(e){return e&&nr.test(e)?e.replace(tr,(function(e){return er[e]})):e}(e).replace(new RegExp(dr.highlightPreTag,"g"),mr).replace(new RegExp(dr.highlightPostTag,"g"),yr)}function gr(e){return cr(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,n){return hr(hr({},t),{},pr({},n,gr(e[n])))}),{}):Array.isArray(e)?e.map(gr):hr(hr({},e),{},{value:vr(e.value)})}function br(e){return void 0===e.__escaped&&((e=e.map((function(e){var t=lr({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return t._highlightResult&&(t._highlightResult=gr(t._highlightResult)),t._snippetResult&&(t._snippetResult=gr(t._snippetResult)),t}))).__escaped=!0),e}function wr(e){var t=mr,n=yr;return e.map((function(e){return e.isHighlighted?t+e.value+n:e.value})).join("")}function _r(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Or(e){return JSON.parse(decodeURIComponent(atob(e)))}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Er(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Er(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function Cr(e){var t=e.getIndex,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(1===r.length&&"object"===Er(r[0]))return[r[0]];var o=Rr(r[0].split(":"),2),a=o[0],s=o[1],c=r[1],u=r[2],l=r[3]||{};if(!c)return[];if(("click"===a||"conversion"===a)&&!u)return[];var f=Array.isArray(c)?c:[c];if(0===f.length)return[];var h=f[0].__queryID,p=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(f),d=p.map((function(e){return e.map((function(e){return e.objectID}))})),m=p.map((function(e){return e.map((function(e){return e.__position}))}));return"view"===a?"idle"!==i.status?[]:p.map((function(e,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:jr({eventName:u||"Hits Viewed",index:t(),objectIDs:d[r]},l),hits:e,eventModifier:s}})):"click"===a?p.map((function(e,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:jr({eventName:u||"Hit Clicked",index:t(),queryID:h,objectIDs:d[r],positions:m[r]},l),hits:e,eventModifier:s}})):"conversion"===a?p.map((function(e,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:jr({eventName:u||"Hit Converted",index:t(),queryID:h,objectIDs:d[r]},l),hits:e,eventModifier:s}})):[]}function kr(e){return"ais.index"===e.$$type}function Tr(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(kr).forEach((function(t){return Tr(e,t)}))}var Fr=Promise.resolve();function Ar(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===t&&(t=Fr.then((function(){t=null,n?n=!1:e.apply(void 0,i)})))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r}function Nr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return n=(t=e).name,r=t.connector,["https://www.algolia.com/doc/api-reference/widgets/",n,"/js/",void 0!==r&&r?"#connector":""].join("");var t,n,r})).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}function Ir(e,t){for(var n,r=0;r<e.length;r++)if(t(n=e[r],r,e))return n}function Dr(e){var t,n="string"==typeof e,r=n?document.querySelector(e):e;if(!((t=r)instanceof HTMLElement||Boolean(t)&&t.nodeType>0)){var i="Container must be `string` or `HTMLElement`.";throw n&&(i+=" Unable to find ".concat(e)),new Error(i)}return r}function Hr(e){var t=yr,n=mr,r=e.split(n),i=r.shift(),o=i?[{value:i,isHighlighted:!1}]:[];return r.forEach((function(e){var n=e.split(t);o.push({value:n[0],isHighlighted:!0}),""!==n[1]&&o.push({value:n[1],isHighlighted:!1})})),o}var Lr=new RegExp(/\w/i);function Mr(e,t){var n,r,i=e[t],o=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,a=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return Lr.test(ar(i.value))||a!==o?i.isHighlighted:a}function Ur(e,t){return(Array.isArray(t)?t:t.split(".")).reduce((function(e,t){return e&&e[t]}),e)}function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$r(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){Yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e){return Object.keys(e).map((function(t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function ai(e){return e!==Object(e)}function si(e,t){if(e===t)return!0;if(ai(e)||ai(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!si(e[i],t[i]))return!1}return!0}function ci(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function ui(e){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(e)}var li=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ui(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ui(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mi=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var n=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e,(function(e){return e.name===t.name}));if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r}),e.hierarchicalFacets)})},yi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:hi(hi({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})}(e,t),r=function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)}(mi(n,t),t),i=function(e,t){return e.setQueryParameters({numericRefinements:hi(hi({},e.numericRefinements),t.numericRefinements)})}(r,t),o=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:hi(hi({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})}(i,t),a=function(e,t){return e.setQueryParameters({facetsExcludes:hi(hi({},e.facetsExcludes),t.facetsExcludes)})}(o,t),s=function(e,t){return e.setQueryParameters({facetsRefinements:hi(hi({},e.facetsRefinements),t.facetsRefinements)})}(a,t),c=function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)}(s,t),u=function(e,t){var n=ci([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e}(c,t),l=function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)}(u,t);return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=di(t,li);return e.setQueryParameters(n)}(l,t)}))};function vi(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function gi(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bi(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,n){return _i(_i({},t),{},{isHighlighted:!Mr(e,n)})})):e.map((function(e){return _i(_i({},e),{},{isHighlighted:!1})}))}function ji(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function Pi(e){return Array.isArray(e)?e:[e]}var Ri=zn("Highlight");function xi(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(Ur(i._highlightResult,t)||{}).value,c=void 0===s?"":s,u=Ri({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(mr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(yr,"g"),"</".concat(r,">"))}var Ei=zn("ReverseHighlight");function Ci(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(Ur(i._highlightResult,t)||{}).value,c=void 0===s?"":s,u=Ei({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return wr(Si(Hr(c))).replace(new RegExp(mr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(yr,"g"),"</".concat(r,">"))}var ki=zn("Snippet");function Ti(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(Ur(i._snippetResult,t)||{}).value,c=void 0===s?"":s,u=ki({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(mr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(yr,"g"),"</".concat(r,">"))}var Fi=zn("ReverseSnippet");function Ai(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(Ur(i._snippetResult,t)||{}).value,c=void 0===s?"":s,u=Fi({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return wr(Si(Hr(c))).replace(new RegExp(mr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(yr,"g"),"</".concat(r,">"))}function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}function Ii(e,t){return function(e){var t,n=e.method,r=e.payload;if("object"!==Ni(r))throw new Error("The insights helper expects the payload to be an object.");try{t=_r(r)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function Di(e){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Hi(){return function(e){if("object"===("undefined"==typeof document?"undefined":Di(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}("_ALGOLIA")}var Li=["page"];function Mi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ui(e){var t=e||{};return t.page,Mi(t,Li)}function qi(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Bi=qi;function Qi(e){return"function"==typeof e}function Wi(e){return"object"==typeof e&&null!==e}function $i(e){return void 0===e}qi.prototype._events=void 0,qi.prototype._maxListeners=void 0,qi.defaultMaxListeners=10,qi.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},qi.prototype.emit=function(e){var t,n,r,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Wi(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if($i(n=this._events[e]))return!1;if(Qi(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Wi(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},qi.prototype.addListener=function(e,t){var n;if(!Qi(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Qi(t.listener)?t.listener:t),this._events[e]?Wi(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Wi(this._events[e])&&!this._events[e].warned&&(n=$i(this._maxListeners)?qi.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},qi.prototype.on=qi.prototype.addListener,qi.prototype.once=function(e,t){if(!Qi(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},qi.prototype.removeListener=function(e,t){var n,r,i,o;if(!Qi(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||Qi(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Wi(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},qi.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Qi(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},qi.prototype.listeners=function(e){return this._events&&this._events[e]?Qi(this._events[e])?[this._events[e]]:this._events[e].slice():[]},qi.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Qi(t))return 1;if(t)return t.length}return 0},qi.listenerCount=function(e,t){return e.listenerCount(t)};var Vi=t(Bi);var Gi=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function Ki(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}Gi(Ki,Bi),Ki.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Ki.prototype.getModifiedState=function(e){return this.fn(e)},Ki.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var zi=Ki;var Ji={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}};function Xi(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function Yi(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"__proto__"!==n&&"constructor"!==n){var r=t[n],i=e[n];void 0!==i&&void 0===r||(Xi(i)&&Xi(r)?e[n]=Yi(i,r):e[n]="object"==typeof(o=r)&&null!==o?Yi(Array.isArray(o)?[]:{},o):o)}var o;return e}var Zi=function(e){Xi(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];Xi(r)&&Yi(e,r)}return e};var eo=function(e){return e&&Object.keys(e).length>0};var to=function(e,t){if(null===e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i};function no(e){e=e||{},this.params=e.params||[]}no.prototype={constructor:no,addParams:function(e){var t=this.params.slice();return t.push(e),new no({params:t})},removeParams:function(e){return new no({params:this.params.filter((function(t){return t.$$id!==e}))})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter((function(e){return void 0===t[e.$$id]})).map((function(t){var n=Object.assign({},t,{indexName:e,threshold:t.threshold||0});return delete n.$$id,n}))}};var ro=no;function io(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach((function(e){var r=e.$$id;n[r]=t[r],n._rawResults[r]=t[r]}))}io.prototype={constructor:io};var oo=io,ao=Zi;function so(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})}var co={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:co._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:co._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var i=t.getHierarchicalFacetByName(r),o=t.getHierarchicalRefinement(r),a=t._getHierarchicalFacetSeparator(i);if(o.length>0&&o[0].split(a).length>1){var s=o[0].split(a).slice(0,-1).reduce((function(e,t,n){return e.concat({attribute:i.attributes[n],value:0===n?t:[e[e.length-1].value,t].join(a)})}),[]);s.forEach((function(r,o){var a=co._getDisjunctiveFacetSearchParams(t,r.attribute,0===o);function c(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var u=(a.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var n=t.filter((function(e){return!c(e)}));n.length>0&&e.push(n)}return"string"!=typeof t||c(t)||e.push(t),e}),[]),l=s[o-1];o>0?a.facetFilters=u.concat(l.attribute+":"+l.value):u.length>0?a.facetFilters=u:delete a.facetFilters,n.push({indexName:e,params:a})}))}})),n},_getCompositionQueries:function(e){return[{compositionID:e.index,requestBody:{params:co._getCompositionHitsSearchParams(e)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(co._getHitsHierarchicalFacetsAttributes(e)).sort(),n=co._getFacetFilters(e),r=co._getNumericFilters(e),i=co._getTagFilters(e),o={};return t.length>0&&(o.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(o.tagFilters=i),n.length>0&&(o.facetFilters=n),r.length>0&&(o.numericFilters=r),so(ao({},e.getQueryParams(),o))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map((function(e){return"disjunctive("+e+")"}))).concat(co._getHitsHierarchicalFacetsAttributes(e)).sort(),n=co._getFacetFilters(e),r=co._getNumericFilters(e),i=co._getTagFilters(e),o={};t.length>0&&(o.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(o.tagFilters=i),n.length>0&&(o.facetFilters=n),r.length>0&&(o.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,so(ao({},a,o))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=co._getFacetFilters(e,t,n),i=co._getNumericFilters(e,t),o=co._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};o.length>0&&(a.tagFilters=o);var s=e.getHierarchicalFacetByName(t);return a.facets=s?co._getDisjunctiveHierarchicalFacetAttribute(e,s,n):t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),so(ao({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var o=i[e]||[];t!==r&&o.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach((function(e){(i[e]||[]).slice().sort().forEach((function(t){r.push(e+":"+t)}))}));var o=e.facetsExcludes||{};Object.keys(o).sort().forEach((function(e){(o[e]||[]).sort().forEach((function(t){r.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach((function(e){var n=a[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.slice().sort().forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).sort().forEach((function(i){var o=(s[i]||[])[0];if(void 0!==o){var a,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),f=e._getHierarchicalRootPath(u);if(t===i){if(-1===o.indexOf(l)||!f&&!0===n||f&&f.split(l).length===o.split(l).length)return;f?(c=f.split(l).length-1,o=f):(c=o.split(l).length-2,o=o.slice(0,o.lastIndexOf(l))),a=u.attributes[c]}else c=o.split(l).length-1,a=u.attributes[c];a&&r.push([a+":"+o])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),o=r.split(i).length,a=n.attributes.slice(0,o+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),o=0;return i&&(o=i.split(r).length),[t.attributes[o]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,o={facetQuery:t,facetName:e};return"number"==typeof n&&(o.maxFacetHits=n),so(ao({},co._getHitsSearchParams(i),o))}},uo=co,lo=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})},fo=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]};var ho=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))};var po=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},mo=lo,yo=eo,vo=to,go={addRefinement:function(e,t,n){if(go.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],o={};return o[t]=i,mo(o,e)},removeRefinement:function(e,t,n){if(void 0===n)return go.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return go.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return go.isRefined(e,t,n)?go.removeRefinement(e,t,n):go.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return yo(e)?{}:e;if("string"==typeof t)return vo(e,[t]);if("function"==typeof t){var r=!1,i=Object.keys(e).reduce((function(i,o){var a=e[o]||[],s=a.filter((function(e){return!t(e,o,n)}));return s.length!==a.length&&(r=!0),i[o]=s,i}),{});return r?i:e}},isRefined:function(e,t,n){var r=Boolean(e[t])&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}},bo=lo,wo=fo,_o=ho,Oo=Zi,So=eo,jo=to,Po=po,Ro=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)},xo=go;function Eo(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return Eo(t[n],e)})):e===t}function Co(e){var t=e?Co._parseNumbers(e):{};void 0===t.userToken||Ro(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==Co.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}Co.PARAMETERS=Object.keys(new Co),Co._parseNumbers=function(e){if(e instanceof Co)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return Oo(e,t)},Co.make=function(e){var t=new Co(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},Co.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&So(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):So(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Co.prototype={constructor:Co,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:xo.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:xo.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:xo.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:xo.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=Po(n);if(this.isNumericRefined(e,t,r))return this;var i=Oo({},this.numericRefinements);return i[e]=Oo({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){var r=n;return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,i){return i===e&&n.op===t&&Eo(n.val,Po(r))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return So(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return jo(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var o=n[i],a={};return o=o||{},Object.keys(o).forEach((function(n){var r=o[n]||[],s=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||s.push(t)})),s.length!==r.length&&(t=!0),a[n]=s})),r[i]=a,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xo.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:xo.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xo.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:xo.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return xo.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:xo.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xo.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:xo.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xo.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:xo.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return xo.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:xo.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:xo.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:xo.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:xo.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:bo(r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:bo(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:bo(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&xo.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&xo.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&xo.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return Boolean(this.numericRefinements[e]);var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,o,a=Po(n),s=void 0!==(i=this.numericRefinements[e][t],o=a,wo(i,(function(e){return Eo(e,o)})));return r&&s},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=_o(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return _o(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0}))).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=Co.validate(this,e);if(t)throw t;var n=this,r=Co._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),o=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?jo(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return wo(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var ko=Co,To=fo,Fo=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var r=t.split(":"),i=To(n,(function(e){return e[0]===r[0]}));return r.length>1||!i?(e[0].push(r[0]),e[1].push(r[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)}),[[],[]])};var Ao=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){var r="number"==typeof e[n]?e[n]:0,i=t[n];void 0!==i&&i>=r&&(void 0!==e[n]&&delete e[n],e[n]=i)})),e}),{})};function No(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,o=null===t;if(!o&&e>t||r&&i||!n)return 1;if(!r&&e<t||o&&n||!i)return-1}return 0}var Io=function(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map((function(e,n){return{criteria:t.map((function(t){return e[t]})),index:n,value:e}}));return r.sort((function(e,t){for(var r=-1;++r<e.criteria.length;){var i=No(e.criteria[r],t.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return e.index-t.index})),r.map((function(e){return e.value}))},Do=function(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",o=e._getHierarchicalFacetSeparator(r),a=e._getHierarchicalRootPath(r),s=e._getHierarchicalShowParentLevel(r),c=Lo(e._getHierarchicalFacetSortBy(r)),u=t.every((function(e){return e.exhaustive})),l=function(e,t,n,r,i){return function(o,a,s){var c=o;if(s>0){var u=0;for(c=o;u<s;){var l=c&&Array.isArray(c.data)?c.data:[];c=Ho(l,(function(e){return e.isRefined})),u++}}if(c){var f=Object.keys(a.data).map((function(e){return[e,a.data[e]]})).filter((function(e){return function(e,t,n,r,i,o){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(o||0===e.indexOf(n))}(e[0],c.path||n,i,t,n,r)}));c.data=Mo(f.map((function(e){var n=e[0];return function(e,t,n,r,i){var o=t.split(n);return{name:o[o.length-1].trim(),path:t,escapedValue:Uo(t),count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,qo(i),a.exhaustive)})),e[0],e[1])}return o}}(c,o,a,s,i),f=t;return a&&(f=t.slice(a.split(o).length)),f.reduce(l,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:u,data:null})}},Ho=fo,Lo=Fo,Mo=Io,Uo=Ji.escapeFacetValue,qo=Ji.unescapeFacetValue;var Bo=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Qo=lo,Wo=fo,$o=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},Vo=Fo,Go=Ao,Ko=Io,zo=Ji.escapeFacetValue,Jo=Ji.unescapeFacetValue,Xo=Do;function Yo(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function Zo(e,t,n){t&&t[n]&&(e.stats=t[n])}function ea(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach((function(e){i[e]=r[e]}));var o=Qo(n,{persistHierarchicalRootCount:!1});Object.keys(o).forEach((function(e){i[e]=o[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),s=Yo(e.facets),c=Yo(e.disjunctiveFacets),u=1,l=r.facets||{};Object.keys(l).forEach((function(t){var n,o,a=l[t],u=(n=e.hierarchicalFacets,o=t,Wo(n,(function(e){return(e.attributes||[]).indexOf(o)>-1})));if(u){var f=u.attributes.indexOf(t),h=$o(e.hierarchicalFacets,(function(e){return e.name===u.name}));i.hierarchicalFacets[h][f]={attribute:t,data:a,exhaustive:r.exhaustiveFacetsCount}}else{var p,d=-1!==e.disjunctiveFacets.indexOf(t),m=-1!==e.facets.indexOf(t);d&&(p=c[t],i.disjunctiveFacets[p]={name:t,data:a,exhaustive:r.exhaustiveFacetsCount},Zo(i.disjunctiveFacets[p],r.facets_stats,t)),m&&(p=s[t],i.facets[p]={name:t,data:a,exhaustive:r.exhaustiveFacetsCount},Zo(i.facets[p],r.facets_stats,t))}})),this.hierarchicalFacets=Bo(this.hierarchicalFacets),a.forEach((function(n){var o=t[u],a=o&&o.facets?o.facets:{},s=e.getHierarchicalFacetByName(n);Object.keys(a).forEach((function(t){var n,u=a[t];if(s){n=$o(e.hierarchicalFacets,(function(e){return e.name===s.name}));var l=$o(i.hierarchicalFacets[n],(function(e){return e.attribute===t}));if(-1===l)return;i.hierarchicalFacets[n][l].data=i.persistHierarchicalRootCount?Go(i.hierarchicalFacets[n][l].data,u):Qo(u,i.hierarchicalFacets[n][l].data)}else{n=c[t];var f=r.facets&&r.facets[t]||{};i.disjunctiveFacets[n]={name:t,data:Go(f,u),exhaustive:o.exhaustiveFacetsCount},Zo(i.disjunctiveFacets[n],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(r){!i.disjunctiveFacets[n].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(Jo(r))>-1&&(i.disjunctiveFacets[n].data[r]=0)}))}})),u++})),e.getRefinedHierarchicalFacets().forEach((function(n){var r=e.getHierarchicalFacetByName(n),o=e._getHierarchicalFacetSeparator(r),a=e.getHierarchicalRefinement(n);0===a.length||a[0].split(o).length<2||t.slice(u).forEach((function(t){var n=t&&t.facets?t.facets:{};Object.keys(n).forEach((function(t){var s=n[t],c=$o(e.hierarchicalFacets,(function(e){return e.name===r.name})),u=$o(i.hierarchicalFacets[c],(function(e){return e.attribute===t}));if(-1!==u){var l={};if(a.length>0&&!i.persistHierarchicalRootCount){var f=a[0].split(o)[0];l[f]=i.hierarchicalFacets[c][u].data[f]}i.hierarchicalFacets[c][u].data=Qo(l,s,i.hierarchicalFacets[c][u].data)}})),u++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var n=e.facetsExcludes[t],o=s[t];i.facets[o]={name:t,data:l[t],exhaustive:r.exhaustiveFacetsCount},n.forEach((function(e){i.facets[o]=i.facets[o]||{name:t},i.facets[o].data=i.facets[o].data||{},i.facets[o].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(Xo(e)),this.facets=Bo(this.facets),this.disjunctiveFacets=Bo(this.disjunctiveFacets),this._state=e}function ta(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=Wo(e.facets,n);return r?Object.keys(r.data).map((function(n){var i=zo(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=Wo(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=zo(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}})):[]}if(e._state.isHierarchicalFacet(t)){var o=Wo(e.hierarchicalFacets,n);if(!o)return o;var a=e._state.getHierarchicalFacetByName(t),s=e._state._getHierarchicalFacetSeparator(a),c=Jo(e._state.getHierarchicalRefinement(t)[0]||"");0===c.indexOf(a.rootPath)&&(c=c.replace(a.rootPath+s,""));var u=c.split(s);return u.unshift(t),na(o,u,0),o}}function na(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach((function(e){na(e,t,n+1)}))}function ra(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var i=t.data.map((function(t){return ra(e,t,n,r+1)})),o=e(i,n[r]);return Qo({data:o},t)}function ia(e,t){var n=Wo(e,(function(e){return e.name===t}));return n&&n.stats}function oa(e,t,n,r,i){var o=Wo(i,(function(e){return e.name===n})),a=o&&o.data&&o.data[r]?o.data[r]:0,s=o&&o.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:s}}ea.prototype.getFacetByName=function(e){function t(t){return t.name===e}return Wo(this.facets,t)||Wo(this.disjunctiveFacets,t)||Wo(this.hierarchicalFacets,t)},ea.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],ea.prototype.getFacetValues=function(e,t){var n=ta(this,e);if(n){var r,i=Qo(t,{sortBy:ea.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;if(Array.isArray(n))r=[e];else r=o._state.getHierarchicalFacetByName(n.name).attributes;return ra((function(e,t){if(i.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(o,t);if(n)return function(e,t){var n=[],r=[],i=t.hide||[],o=(t.order||[]).reduce((function(e,t,n){return e[t]=n,e}),{});e.forEach((function(e){var t=e.path||e.name,a=i.indexOf(t)>-1;a||void 0===o[t]?a||r.push(e):n[o[t]]=e})),n=n.filter((function(e){return e}));var a,s=t.sortRemainingBy;return"hidden"===s?n:(a="alpha"===s?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(Ko(r,a[0],a[1])))}(e,n)}if(Array.isArray(i.sortBy)){var r=Vo(i.sortBy,ea.DEFAULT_SORT);return Ko(e,r[0],r[1])}if("function"==typeof i.sortBy)return function(e,t){return t.sort(e)}(i.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},ea.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?ia(this.facets,e):this._state.isDisjunctiveFacet(e)?ia(this.disjunctiveFacets,e):void 0},ea.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(oa(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(oa(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(oa(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),o=e._getHierarchicalFacetSeparator(i),a=n.split(o),s=Wo(r,(function(e){return e.name===t})),c=a.reduce((function(e,t){var n=e&&Wo(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),s),u=c&&c.count||0,l=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:l}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n};var aa=ea,sa=fo,ca=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])};var ua=function(e){var t={};e.forEach((function(e){e.forEach((function(e,n){t[e.objectID]?t[e.objectID]={indexSum:t[e.objectID].indexSum+n,count:t[e.objectID].count+1}:t[e.objectID]={indexSum:n,count:1}}))}));var n=function(e,t){var n=[];return Object.keys(e).forEach((function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})})),n.sort((function(e,t){return e.avgOfIndices>t.avgOfIndices?1:-1}))}(t,e.length);return n.reduce((function(t,n){var r=sa(ca(e),(function(e){return e.objectID===n.objectID}));return r?t.concat(r):t}),[])},la="3.24.1",fa=zi,ha=Ji.escapeFacetValue,pa=Zi,da=eo,ma=to,ya=ro,va=oo,ga=uo,ba=ko,wa=aa,_a=ua,Oa=la;function Sa(e,t,n,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+Oa+")"),this.setClient(e);var i=n||{};i.index=t,this.state=ba.make(i),this.recommendState=new ya({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}function ja(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function Pa(){return this.state.page}Gi(Sa,Bi),Sa.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Sa.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Sa.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this},Sa.prototype.recommend=function(){return this._recommend(),this},Sa.prototype.getQuery=function(){var e=this.state;return ga._getHitsSearchParams(e)},Sa.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=ga._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new wa(n,e.results),state:n,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new wa(n,e.results),n)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)}))},Sa.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=pa({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:ma(ga._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);var a=this.client.initIndex(r.index);if("function"!=typeof a.findAnswers)throw new Error(o);return a.findAnswers(r.query,e.queryLanguages,i)},Sa.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues&&"function"!=typeof this.client.searchForFacets,o="function"==typeof this.client.initIndex;if(!i&&!o&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),s=a.isDisjunctiveFacet(e),c=ga.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u,l=this;return i?u=this.client.searchForFacetValues([{indexName:a.index,params:c}]):o?u=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,u=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:a,facet:e,query:t}),u.then((function(t){return l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=ha(t.value),t.isRefined=s?a.isDisjunctiveFacetRefined(e,t.escapedValue):a.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),e}))},Sa.prototype.searchForCompositionFacetValues=function(e,t,n,r){if("function"!=typeof this.client.searchForFacetValues)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),o=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a,s=this;return a=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:ga._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),a.then((function(t){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(t=t.results[0]).facetHits.forEach((function(t){t.escapedValue=ha(t.value),t.isRefined=o?i.isDisjunctiveFacetRefined(e,t.escapedValue):i.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e}))},Sa.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},Sa.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},Sa.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Sa.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Sa.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},Sa.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Sa.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},Sa.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Sa.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},Sa.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this},Sa.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this},Sa.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this},Sa.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this},Sa.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this},Sa.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},Sa.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Sa.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},Sa.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Sa.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},Sa.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Sa.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},Sa.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},Sa.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},Sa.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},Sa.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},Sa.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},Sa.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Sa.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},Sa.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},Sa.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Sa.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},Sa.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},Sa.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},Sa.prototype.setCurrentPage=ja,Sa.prototype.setPage=ja,Sa.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},Sa.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},Sa.prototype.setState=function(e){return this._change({state:ba.make(e),isPageReset:!1}),this},Sa.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new ba(e),this},Sa.prototype.hasRefinements=function(e){return!!da(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},Sa.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},Sa.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},Sa.prototype.hasTag=function(e){return this.state.isTagRefined(e)},Sa.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Sa.prototype.getIndex=function(){return this.state.index},Sa.prototype.getCurrentPage=Pa,Sa.prototype.getPage=Pa,Sa.prototype.getTags=function(){return this.state.tagRefinements},Sa.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},Sa.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},Sa.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},Sa.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=ga._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=r.index?ga._getQueries(r.index,r):[];return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),o=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!o.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",{error:e})}},Sa.prototype._runComposition=function(){var e=this.state,t=[],n=this.derivedHelpers.map((function(n){var r=n.getModifiedState(e),i=ga._getCompositionQueries(r);return t.push({state:r,queriesCount:i.length,helper:n}),n.emit("search",{state:r,results:n.lastResults}),i})),r=Array.prototype.concat.apply([],n),i=this._queryId++;if(this._currentNbQueries++,!r.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,i));if(r.length>1)throw new Error("Only one query is allowed when using a composition.");var o=r[0];try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,t,i)).catch(this._dispatchAlgoliaError.bind(this,i))}catch(e){this.emit("error",{error:e})}},Sa.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map((function(e){return e.$$id}));this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var o=this._recommendCache,a=this.derivedHelpers.map((function(t){var n=t.getModifiedState(e).index;if(!n)return[];var a=t.getModifiedRecommendState(new ya);return r.push({state:a,index:n,helper:t}),i=Array.prototype.concat.apply(i,a.params.map((function(e){return e.$$id}))),t.emit("fetch",{recommend:{state:a,results:t.lastRecommendResults}}),a._buildQueries(n,o)})),s=Array.prototype.concat.apply(this.recommendState._buildQueries(n,o),a);if(0!==s.length)if(s.length>0&&void 0===this.client.getRecommendations)console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");else{var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(s).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(e){this.emit("error",{error:e})}}},Sa.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var i=n.results.slice(),o=Object.keys(n).reduce((function(e,t){return"results"!==t&&(e[t]=n[t]),e}),{});Object.keys(o).length<=0&&(o=void 0),e.forEach((function(e){var t=e.state,n=e.queriesCount,a=e.helper,s=i.splice(0,n);t.index?(a.lastResults=new wa(t,s,r._searchResultsOptions),void 0!==o&&(a.lastResults._rawContent=o),a.emit("result",{results:a.lastResults,state:t})):a.emit("result",{results:null,state:t})}))}},Sa.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty");var i=this._recommendCache,o={};n.filter((function(e){return void 0===i[e]})).forEach((function(e,t){o[e]||(o[e]=[]),o[e].push(t)})),Object.keys(o).forEach((function(e){var t=o[e],n=r.results[t[0]];1!==t.length?i[e]=Object.assign({},n,{hits:_a(t.map((function(e){return r.results[e].hits})))}):i[e]=n}));var a={};n.forEach((function(e){a[e]=i[e]})),t.forEach((function(e){var t=e.state,n=e.helper;e.index?(n.lastRecommendResults=new va(t,a),n.emit("recommend:result",{recommend:{results:n.lastRecommendResults,state:t}})):n.emit("recommend:result",{results:null,state:t})}))}},Sa.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Sa.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"))},Sa.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},Sa.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},Sa.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},Sa.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},Sa.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Sa.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+Oa+")"),this.client=e),this},Sa.prototype.getClient=function(){return this.client},Sa.prototype.derive=function(e,t){var n=new fa(this,e,t);return this.derivedHelpers.push(n),n},Sa.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},Sa.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Ra=Sa,xa=ro,Ea=oo,Ca=ko,ka=aa;function Ta(e,t,n,r){return new Ra(e,t,n,r)}Ta.version=la,Ta.AlgoliaSearchHelper=Ra,Ta.SearchParameters=Ca,Ta.RecommendParameters=xa,Ta.SearchResults=ka,Ta.RecommendResults=Ea;var Fa=t(Ta);function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){Da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Da(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Aa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aa(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Ma(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e){return function(e){if(Array.isArray(e))return Ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ma(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qa="2.17.2",Ba="https://cdn.jsdelivr.net/npm/search-insights@".concat(qa,"/dist/search-insights.min.js");function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,o=void 0!==i&&i,a=e.$$automatic,s=void 0!==a&&a,c=t;t||null===t||ji((function(e){var t=e.window,n=t.AlgoliaAnalyticsObject||"aa";"string"==typeof n&&(c=t[n]),c||(t.AlgoliaAnalyticsObject=n,t[n]||(t[n]=function(){t[n].queue||(t[n].queue=[]);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t[n].queue.push(r)},t[n].version=qa,t[n].shouldAddScript=!0),c=t[n])}));var u=c||Xn;return function(e){var t=e.instantSearchInstance,i=t.middleware.filter((function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal})).map((function(e){return e.creator}));t.unuse.apply(t,La(i));var a,c,l=Ha(function(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",o="x-algolia-api-key";return[n[i]||r[i],n[o]||r[o]]}return[e.applicationID,e.apiKey]}(t.client),2),f=l[0],h=l[1],p=void 0,d=void 0,m=void 0,y=u.queue;if(Array.isArray(y)){var v=["setUserToken","init"].map((function(e){var t=Ir(y.slice().reverse(),(function(t){return Ha(t,1)[0]===e}))||[];return Ha(t,2)[1]})),g=Ha(v,2);d=g[0],p=g[1]}return u("getUserToken",null,(function(e,t){m=$a(t)})),!n&&Wa(u)||u("init",Ia({appId:f,apiKey:h,partial:!0},n)),{$$type:"ais.insights",$$internal:o,$$automatic:s,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var e="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var n=document.createElement("script");n.async=!0,n.src=Ba,n.onerror=function(){t.emit("error",new Error(e))},document.body.appendChild(n),u.shouldAddScript=!1}catch(n){u.shouldAddScript=!1,t.emit("error",new Error(e))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),c=t.mainHelper;var e=u.queue;if(Array.isArray(e)){var i=["setUserToken","init"].map((function(t){var n=Ir(e.slice().reverse(),(function(e){return Ha(e,1)[0]===t}))||[];return Ha(n,2)[1]})),l=Ha(i,2);d=l[0],p=l[1]}a=function(e){var t,n,r=(null===(t=e._initialResults)||void 0===t||null===(n=t[e.indexName])||void 0===n?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}(t),s||c.overrideStateWithoutTriggeringChangeEvent(Ia(Ia({},c.state),{},{clickAnalytics:!0})),o||t.scheduleSearch();var y=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=$a(e);if(r){var i=c.state.userToken;n?o():setTimeout(o,0)}function o(){c.overrideStateWithoutTriggeringChangeEvent(Ia(Ia({},c.state),{},{userToken:r})),i&&i!==e&&t.scheduleSearch()}};function v(e){y(e,!0),u("setUserToken",e)}var g,b=void 0,w=Hi();if(w)b=w;else{var _="anonymous-".concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})));b=_}var O=a.userToken;if(null!=n&&n.userToken&&(g=n.userToken),g)v(g);else if(O)v(O);else if(m)v(m);else if(d)v(d);else if(b){var S,j;if(v(b),null!=n&&n.useCookie||null!==(S=p)&&void 0!==S&&S.useCookie)!function(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||6*n));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}(b,(null==n?void 0:n.cookieDuration)||(null===(j=p)||void 0===j?void 0:j.cookieDuration))}u("onUserTokenChange",(function(e){return y(e,!0)}),{immediate:!0});var P=u;Wa(u)&&(P=function(e,t){return u(e,t,{headers:{"X-Algolia-Application-Id":f,"X-Algolia-API-Key":h}})});var R,x=new Set;t.mainHelper.derivedHelpers[0].on("result",(function(e){var t=e.results;!t||t.queryID&&t.queryID===R||(R=t.queryID,x.clear())})),t.sendEventToInsights=function(e){if(r)r(e,P);else if(e.insightsMethod){if("viewedObjectIDs"===e.insightsMethod){var t=e.payload,n=t.objectIDs.filter((function(e){return!x.has(e)}));if(0===n.length)return;n.forEach((function(e){return x.add(e)})),t.objectIDs=n}e.payload.algoliaSource=["instantsearch"],s&&e.payload.algoliaSource.push("instantsearch-automatic"),"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),P(e.insightsMethod,e.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),t.sendEventToInsights=Xn,c&&a&&(c.overrideStateWithoutTriggeringChangeEvent(Ia(Ia({},c.state),a)),t.scheduleSearch())}}}}function Wa(e){var t=Ha((e.version||"").split(".").map(Number),2),n=t[0],r=t[1];return n>=3||2===n&&r>=6||1===n&&r>=10}function $a(e){if(e)return"number"==typeof e?e.toString():e}function Va(e,t,n){var r=vi(t,t.mainIndex,t._initialUiState);e.forEach((function(e){var i={};if(e.getWidgetRenderState){var o=e.getWidgetRenderState(r);o&&o.widgetParams&&(i=o.widgetParams)}var a=Object.keys(i).filter((function(e){return void 0!==i[e]}));n.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:a}),"ais.index"===e.$$type&&Va(e.getWidgets(),t,n)}))}function Ga(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).$$internal,t=void 0!==e&&e;return function(e){var n=e.instantSearchInstance,r={widgets:[]},i=document.createElement("meta"),o=document.querySelector("head");return i.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:t,onStateChange:function(){},subscribe:function(){setTimeout((function(){var e=n.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,Va(n.mainIndex.getWidgets(),n,r),n.middleware.forEach((function(e){return r.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})})),i.content=JSON.stringify(r),o.appendChild(i)}),0)},started:function(){},unsubscribe:function(){i.remove()}}}}var Ka=String.prototype.replace,za=/%20/g,Ja="RFC3986",Xa={default:Ja,formatters:{RFC1738:function(e){return Ka.call(e,za,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Ja},Ya=Xa,Za=Object.prototype.hasOwnProperty,es=Array.isArray,ts=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),ns=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},rs={arrayToObject:ns,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(es(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<o.length;++s){var c=o.charCodeAt(s);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===Ya.RFC1738&&(40===c||41===c)?a+=o.charAt(s):c<128?a+=ts[c]:c<2048?a+=ts[192|c>>6]+ts[128|63&c]:c<55296||c>=57344?a+=ts[224|c>>12]+ts[128|c>>6&63]+ts[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(s)),a+=ts[240|c>>18]+ts[128|c>>12&63]+ts[128|c>>6&63]+ts[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(es(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(es(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!Za.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return es(t)&&!es(n)&&(i=ns(t,r)),es(t)&&es(n)?(n.forEach((function(n,i){if(Za.call(t,i)){var o=t[i];o&&"object"==typeof o&&n&&"object"==typeof n?t[i]=e(o,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var o=n[i];return Za.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),i)}},is=rs,os=Xa,as=Object.prototype.hasOwnProperty,ss={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},cs=Array.isArray,us=String.prototype.split,ls=Array.prototype.push,fs=function(e,t){ls.apply(e,cs(t)?t:[t])},hs=Date.prototype.toISOString,ps=os.default,ds={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:is.encode,encodeValuesOnly:!1,format:ps,formatter:os.formatters[ps],indices:!1,serializeDate:function(e){return hs.call(e)},skipNulls:!1,strictNullHandling:!1},ms=function e(t,n,r,i,o,a,s,c,u,l,f,h,p,d){var m=t;if("function"==typeof s?m=s(n,m):m instanceof Date?m=l(m):"comma"===r&&cs(m)&&(m=is.maybeMap(m,(function(e){return e instanceof Date?l(e):e}))),null===m){if(i)return a&&!p?a(n,ds.encoder,d,"key",f):n;m=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(m)||is.isBuffer(m)){if(a){var y=p?n:a(n,ds.encoder,d,"key",f);if("comma"===r&&p){for(var v=us.call(String(m),","),g="",b=0;b<v.length;++b)g+=(0===b?"":",")+h(a(v[b],ds.encoder,d,"value",f));return[h(y)+"="+g]}return[h(y)+"="+h(a(m,ds.encoder,d,"value",f))]}return[h(n)+"="+h(String(m))]}var w,_=[];if(void 0===m)return _;if("comma"===r&&cs(m))w=[{value:m.length>0?m.join(",")||null:void 0}];else if(cs(s))w=s;else{var O=Object.keys(m);w=c?O.sort(c):O}for(var S=0;S<w.length;++S){var j=w[S],P="object"==typeof j&&void 0!==j.value?j.value:m[j];if(!o||null!==P){var R=cs(m)?"function"==typeof r?r(n,j):n:n+(u?"."+j:"["+j+"]");fs(_,e(P,R,r,i,o,a,s,c,u,l,f,h,p,d))}}return _},ys=rs,vs=Object.prototype.hasOwnProperty,gs=Array.isArray,bs={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ys.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ws=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},_s=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Os=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,c=[];if(s){if(!n.plainObjects&&vs.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;n.depth>0&&null!==(a=o.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&vs.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:_s(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(c,t,n,r)}},Ss=function(e,t){var n,r=e,i=function(e){if(!e)return ds;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||ds.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=os.default;if(void 0!==e.format){if(!as.call(os.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=os.formatters[n],i=ds.filter;return("function"==typeof e.filter||cs(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:ds.addQueryPrefix,allowDots:void 0===e.allowDots?ds.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:ds.charsetSentinel,delimiter:void 0===e.delimiter?ds.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:ds.encode,encoder:"function"==typeof e.encoder?e.encoder:ds.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:ds.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:ds.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:ds.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:ds.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):cs(i.filter)&&(n=i.filter);var o,a=[];if("object"!=typeof r||null===r)return"";o=t&&t.arrayFormat in ss?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=ss[o];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var u=n[c];i.skipNulls&&null===r[u]||fs(a,ms(r[u],u,s,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var l=a.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),l.length>0?f+l:""},js=function(e,t){var n=function(e){if(!e)return bs;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?bs.charset:e.charset;return{allowDots:void 0===e.allowDots?bs.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:bs.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:bs.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:bs.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:bs.comma,decoder:"function"==typeof e.decoder?e.decoder:bs.decoder,delimiter:"string"==typeof e.delimiter||ys.isRegExp(e.delimiter)?e.delimiter:bs.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:bs.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:bs.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:bs.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:bs.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:bs.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,o),s=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?c="utf-8":"utf8=%26%2310003%3B"===a[n]&&(c="iso-8859-1"),s=n,n=a.length);for(n=0;n<a.length;++n)if(n!==s){var u,l,f=a[n],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;-1===p?(u=t.decoder(f,bs.decoder,c,"key"),l=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,p),bs.decoder,c,"key"),l=ys.maybeMap(_s(f.slice(p+1),t),(function(e){return t.decoder(e,bs.decoder,c,"value")}))),l&&t.interpretNumericEntities&&"iso-8859-1"===c&&(l=ws(l)),f.indexOf("[]=")>-1&&(l=gs(l)?[l]:l),vs.call(r,u)?r[u]=ys.combine(r[u],l):r[u]=l}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],c=Os(s,r[s],n,"string"==typeof e);i=ys.merge(i,c,n)}return ys.compact(i)},Ps=t({formats:Xa,parse:js,stringify:Ss});function Rs(e){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(e)}function xs(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cs(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Es(e,t,n){return(t=Cs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e){var t=function(e,t){if("object"!=Rs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rs(t)?t:String(t)}var ks=function(e){e&&(window.document.title=e)},Ts=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,o=void 0===i?400:i,a=t.createURL,s=t.parseURL,c=t.getLocation,u=t.start,l=t.dispose,f=t.push,h=t.cleanUrlOnDispose;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Es(this,"$$type","ais.browser"),Es(this,"windowTitle",void 0),Es(this,"writeDelay",void 0),Es(this,"_createURL",void 0),Es(this,"parseURL",void 0),Es(this,"getLocation",void 0),Es(this,"writeTimer",void 0),Es(this,"_onPopState",void 0),Es(this,"inPopState",!1),Es(this,"isDisposed",!1),Es(this,"latestAcknowledgedHistory",0),Es(this,"_start",void 0),Es(this,"_dispose",void 0),Es(this,"_push",void 0),Es(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=o,this._createURL=a,this.parseURL=s,this.getLocation=c,this._start=u,this._dispose=l,this._push=f,this._cleanUrlOnDispose=void 0===h||h,ji((function(e){var t=e.window,r=n.windowTitle&&n.windowTitle(n.read());ks(r),n.latestAcknowledgedHistory=t.history.length}))}return xs(e,[{key:"read",value:function(){return this.parseURL({qsModule:Ps,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;ji((function(n){var r=n.window,i=t.createURL(e),o=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout((function(){ks(o),t.shouldWrite(i)&&(t._push?t._push(i):r.history.pushState(e,o||"",i),t.latestAcknowledgedHistory=r.history.length),t.inPopState=!1,t.writeTimer=void 0}),t.writeDelay)}))}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start((function(){e(t.read())})),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},ji((function(e){e.window.addEventListener("popstate",t._onPopState)}))}},{key:"createURL",value:function(e){return this._createURL({qsModule:Ps,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this._dispose&&this._dispose(),this.isDisposed=!0,ji((function(t){var n=t.window;e._onPopState&&n.removeEventListener("popstate",e._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(e){var t=this;return ji((function(n){var r=n.window;if(t.isDisposed&&!t._cleanUrlOnDispose)return!1;var i=!(t.isDisposed&&t.latestAcknowledgedHistory!==r.history.length);return!t.inPopState&&i&&e!==r.location.href}))}}]),e}();function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}var As=["configure"];function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach((function(t){Ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ds(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fs(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ls(e){return e.configure,Hs(e,As)}function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){Bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ms(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ms(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=void 0===t?function(e){var t=e.qsModule,n=e.routeState,r=e.location,i=r.protocol,o=r.hostname,a=r.port,s=void 0===a?"":a,c=r.pathname,u=r.hash,l=t.stringify(n),f=""===s?"":":".concat(s);return l?"".concat(i,"//").concat(o).concat(f).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(o).concat(f).concat(c).concat(u)}:t,r=e.parseURL,i=void 0===r?function(e){var t=e.qsModule,n=e.location;return t.parse(n.search.slice(1),{arrayLimit:99})}:r,o=e.writeDelay,a=void 0===o?400:o,s=e.windowTitle,c=e.getLocation,u=void 0===c?function(){return ji((function(e){return e.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,l=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new Ts({createURL:n,parseURL:i,writeDelay:a,windowTitle:s,getLocation:u,start:l,dispose:f,push:h,cleanUrlOnDispose:p})}():t,r=e.stateMapping,i=void 0===r?{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce((function(t,n){return Is(Is({},t),{},Ds({},n,Ls(e[n])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return Is(Is({},t),{},Ds({},n,Ls(e[n])))}),{})}}:r,o=e.$$internal,a=void 0!==o&&o;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),o=Object.keys(e).reduce((function(t,n){return qs(qs({},t),{},Bs({},n,e[n]))}),r),a=i.stateToRoute(o);return n.createURL(a)};var r=void 0,o=t._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(i.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(e){var t=e.uiState,o=i.stateToRoute(t);void 0!==r&&si(r,o)||(n.write(o),r=o)},subscribe:function(){t._initialUiState=qs(qs({},o),i.routeToState(n.read())),n.onUpdate((function(e){t.mainIndex.getWidgets().length>0&&t.setUiState(i.routeToState(e))}))},started:function(){var e;null===(e=n.start)||void 0===e||e.call(n)},unsubscribe:function(){n.dispose()}}}};function Ws(e){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(e)}var $s=["initialSearchParameters"],Vs=["initialRecommendParameters"];function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ws(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ws(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ws(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e){return function(e){if(Array.isArray(e))return Xs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ys(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Zs=Nr({name:"index-widget"});function ec(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,o=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:o})),r!==e.recommendState&&(e.recommendState=r)}function tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,n){return kr(n)?e:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e}),n)}function nc(e,t){var n=t.initialSearchParameters,r=Ys(t,$s);return e.reduce((function(e,t){return!t.getWidgetSearchParameters||kr(t)?e:"search"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,r):t.getWidgetSearchParameters(e,r)}),n)}function rc(e,t){var n=t.initialRecommendParameters,r=Ys(t,Vs);return e.reduce((function(e,t){return!kr(t)&&"recommend"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,r):e}),n)}function ic(e){var t=e.filter(kr);0!==t.length&&t.forEach((function(e){var t=e.getHelper();ec(t,{state:t.state.resetPage(),recommendState:t.recommendState,isPageReset:!0}),ic(e.getWidgets())}))}function oc(e){return e.filter(kr).reduce((function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(Js(oc(t.getWidgets()))))}),[])}var ac=function(e){if(void 0===e||void 0===e.indexName)throw new Error(Zs("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],o={},a=null,s=null,c=null,u=null,l=null,f=!1,h=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){var e;return null!==(e=u)&&void 0!==e&&e.lastResults?(u.lastResults._state=c.state,u.lastResults):null},getResultsForWidget:function(e){var t;return"recommend"!==e.dependsOn||kr(e)||void 0===e.$$id?this.getResults():null!==(t=c)&&void 0!==t&&t.lastRecommendResults?c.lastRecommendResults[e.$$id]:null},getPreviousState:function(){return l},getScopedResults:function(){var e=this.getParent();return oc(e?e.getWidgets():0===t.length?this.getWidgets():[this])},getParent:function(){return s},createURL:function(e){return"function"==typeof e?a._createURL(zs({},r,e(o))):a._createURL(zs({},r,tc(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Zs("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(Zs("The widget definition expects a `render` and/or an `init` method."));return e.forEach((function(e){kr(e)||(a&&"recommend"===e.dependsOn?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:"recommend"===e.dependsOn?f=!0:h=!0,function(e){"recommend"===e.dependsOn&&(e.$$id=Jn++)}(e))})),i=i.concat(e),a&&Boolean(e.length)&&(ec(c,{state:nc(i,{uiState:o,initialSearchParameters:c.state}),recommendState:rc(i,{uiState:o,initialRecommendParameters:c.recommendState}),_uiState:o}),e.forEach((function(e){e.getRenderState&&sc({renderState:e.getRenderState(a.renderState[t.getIndexId()]||{},vi(a,t,a._initialUiState)),instantSearchInstance:a,parent:t})})),e.forEach((function(e){e.init&&e.init(vi(a,t,a._initialUiState))})),a.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Zs("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(Zs("The widget definition expects a `dispose` method."));if((i=i.filter((function(t){return-1===e.indexOf(t)}))).forEach((function(e){kr(e)||(a&&"recommend"===e.dependsOn?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:"recommend"===e.dependsOn?f=!0:h=!0)})),a&&Boolean(e.length)){var n=e.reduce((function(e,n){var r=n.dispose({helper:c,state:e.cleanedSearchState,recommendState:e.cleanedRecommendState,parent:t});return r instanceof Fa.RecommendParameters?e.cleanedRecommendState=r:r&&(e.cleanedSearchState=r),e}),{cleanedSearchState:c.state,cleanedRecommendState:c.recommendState}),r=n.cleanedSearchState,s=n.cleanedRecommendState,u=a.future.preserveSharedStateOnUnmount?nc(i,{uiState:o,initialSearchParameters:new Fa.SearchParameters({index:this.getIndexName()})}):nc(i,{uiState:tc(i,{searchParameters:r,helper:c}),initialSearchParameters:r});o=tc(i,{searchParameters:u,helper:c}),c.setState(u),c.recommendState=s,i.length&&a.scheduleSearch()}return this},init:function(e){var n,p=this,d=e.instantSearchInstance,m=e.parent,y=e.uiState;if(null===c){a=d,s=m,o=y[r]||{};var v=d.mainHelper,g=nc(i,{uiState:o,initialSearchParameters:new Fa.SearchParameters({index:t})}),b=rc(i,{uiState:o,initialRecommendParameters:new Fa.RecommendParameters});(c=Fa({},g.index,g)).recommendState=b,c.search=function(){return d.onStateChange?(d.onStateChange({uiState:d.mainIndex.getWidgetUiState({}),setUiState:function(e){return d.setUiState(e,!1)}}),v):v.search()},c.searchWithoutTriggeringOnStateChange=function(){return v.search()},c.searchForFacetValues=function(e,t,n,r){var i=c.state.setQueryParameters(r);return v.searchForFacetValues(e,t,n,i)},u=v.derive((function(){return yi.apply(void 0,[v.state].concat(Js(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(p))))}),(function(){return p.getHelper().recommendState}));var w=null===(n=d._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(null!=w&&w.results){var _=new Fa.SearchResults(new Fa.SearchParameters(w.state),w.results);u.lastResults=_,c.lastResults=_}if(null!=w&&w.recommendResults){var O=new Fa.RecommendResults(new Fa.RecommendParameters({params:w.recommendResults.params}),w.recommendResults.results);u.lastRecommendResults=O,c.lastRecommendResults=O}c.on("change",(function(e){e.isPageReset&&ic(i)})),u.on("search",(function(){d.scheduleStalledRender()})),u.on("result",(function(e){var t=e.results;d.scheduleRender(),c.lastResults=t,l=null==t?void 0:t._state})),u.on("recommend:result",(function(e){var t=e.recommend;d.scheduleRender(),c.lastRecommendResults=t.results})),i.forEach((function(e){e.getRenderState&&sc({renderState:e.getRenderState(d.renderState[p.getIndexId()]||{},vi(d,p,y)),instantSearchInstance:d,parent:p})})),i.forEach((function(e){e.init&&e.init(vi(d,p,y))})),c.on("change",(function(e){var t=e.state,n=e._uiState;o=tc(i,{searchParameters:t,helper:c},n||{}),d.onStateChange||d.onInternalStateChange()})),w&&d.scheduleRender(),f&&(d._hasRecommendWidget=!0),h&&(d._hasSearchWidget=!0)}},render:function(e){var t,n=this,r=e.instantSearchInstance;"error"===r.status&&!r.mainHelper.hasPendingRequests()&&l&&c.setState(l);var o=this.getResults()||null!==(t=u)&&void 0!==t&&t.lastRecommendResults?i:i.filter(kr);(o=o.filter((function(e){return!e.shouldRender||e.shouldRender({instantSearchInstance:r})}))).forEach((function(e){e.getRenderState&&sc({renderState:e.getRenderState(r.renderState[n.getIndexId()]||{},gi(r,n,e)),instantSearchInstance:r,parent:n})})),o.forEach((function(e){e.render&&e.render(gi(r,n,e))}))},dispose:function(){var e,t,n=this;i.forEach((function(e){e.dispose&&c&&e.dispose({helper:c,state:c.state,recommendState:c.recommendState,parent:n})})),a=null,s=null,null===(e=c)||void 0===e||e.removeAllListeners(),c=null,null===(t=u)||void 0===t||t.detach(),u=null},getWidgetUiState:function(e){return i.filter(kr).reduce((function(e,t){return t.getWidgetUiState(e)}),Ks(Ks({},e),{},zs({},r,Ks(Ks({},e[r]),o))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var n=t.uiState;return nc(i,{uiState:n,initialSearchParameters:e})},refreshUiState:function(){o=tc(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(e){var t="function"==typeof e?e(o):e;a.setUiState((function(e){return Ks(Ks({},e),{},zs({},r,t))}))}}};function sc(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Ks(Ks({},n.renderState),{},zs({},i,Ks(Ks({},n.renderState[i]),t)))}function cc(e){return cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(e)}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cc(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hc(e){var t=e.numberLocale;return{formatNumber:function(e,n){return function(e,t){return e.toLocaleString(t)}(Number(n(e)),t)},highlight:function(e,t){try{return t(xi(lc(lc({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(Ci(lc(lc({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(Ti(lc(lc({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(Ai(lc(lc({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e),r=n.method,i=n.payload;return t(Ii(r,lc({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}var pc="4.77.3";function dc(e){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(e)}function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){Oc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sc(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gc(e,t){return gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gc(e,t)}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_c(e);if(t){var i=_c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===dc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wc(e)}(this,n)}}function wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _c(e){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_c(e)}function Oc(e,t,n){return(t=Sc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sc(e){var t=function(e,t){if("object"!=dc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dc(t)?t:String(t)}var jc=Nr({name:"instantsearch"});function Pc(){return"#"}var Rc={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},xc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gc(e,t)}(n,e);var t=bc(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Oc(wc(r=t.call(this)),"client",void 0),Oc(wc(r),"indexName",void 0),Oc(wc(r),"compositionID",void 0),Oc(wc(r),"insightsClient",void 0),Oc(wc(r),"onStateChange",null),Oc(wc(r),"future",void 0),Oc(wc(r),"helper",void 0),Oc(wc(r),"mainHelper",void 0),Oc(wc(r),"mainIndex",void 0),Oc(wc(r),"started",void 0),Oc(wc(r),"templatesConfig",void 0),Oc(wc(r),"renderState",{}),Oc(wc(r),"_stalledSearchDelay",void 0),Oc(wc(r),"_searchStalledTimer",void 0),Oc(wc(r),"_initialUiState",void 0),Oc(wc(r),"_initialResults",void 0),Oc(wc(r),"_createURL",void 0),Oc(wc(r),"_searchFunction",void 0),Oc(wc(r),"_mainHelperSearch",void 0),Oc(wc(r),"_hasSearchWidget",!1),Oc(wc(r),"_hasRecommendWidget",!1),Oc(wc(r),"_insights",void 0),Oc(wc(r),"middleware",[]),Oc(wc(r),"sendEventToInsights",void 0),Oc(wc(r),"status","idle"),Oc(wc(r),"error",void 0),Oc(wc(r),"scheduleSearch",Ar((function(){r.started&&r.mainHelper.search()}))),Oc(wc(r),"scheduleRender",Ar((function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(e=r.mainHelper)&&void 0!==e&&e.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,t&&(r.status="idle",r.error=void 0)),r.mainIndex.render({instantSearchInstance:wc(r)}),r.emit("render")}))),Oc(wc(r),"onInternalStateChange",Ar((function(){var e=r.mainIndex.getWidgetUiState({});r.middleware.forEach((function(t){t.instance.onStateChange({uiState:e})}))}))),r.setMaxListeners(100);var i=e.indexName,o=void 0===i?"":i,a=e.compositionID,s=e.numberLocale,c=e.initialUiState,u=void 0===c?{}:c,l=e.routing,f=void 0===l?null:l,h=e.insights,p=void 0===h?void 0:h,d=e.searchFunction,m=e.stalledSearchDelay,y=void 0===m?200:m,v=e.searchClient,g=void 0===v?null:v,b=e.insightsClient,w=void 0===b?null:b,_=e.onStateChange,O=void 0===_?null:_,S=e.future,j=void 0===S?yc(yc({},Rc),e.future||{}):S;if(null===g)throw new Error(jc("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat(pc,")")),w&&"function"!=typeof w)throw new Error(jc("The `insightsClient` option should be a function."));if(r.client=g,r.future=j,r.insightsClient=w,r.indexName=o,r.compositionID=a,r.helper=null,r.mainHelper=null,r.mainIndex=ac({indexName:r.compositionID||r.indexName}),r.onStateChange=O,r.started=!1,r.templatesConfig={helpers:hc({numberLocale:s}),compileOptions:{}},r._stalledSearchDelay=y,r._searchStalledTimer=null,r._createURL=Pc,r._initialUiState=u,r._initialResults=null,r._insights=p,d&&(r._searchFunction=d),r.sendEventToInsights=Xn,f){var P="boolean"==typeof f?{}:f;P.$$internal=!0,r.use(Qs(P))}if(p){var R="boolean"==typeof p?{}:p;R.$$internal=!0,r.use(Qa(R))}return ji((function(e){var t,n;return(null===(t=e.window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&r.use(Ga({$$internal:!0})),r}return vc(n,[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){var n=yc({$$type:"__unknown__",$$internal:!1,subscribe:Xn,started:Xn,unsubscribe:Xn,onStateChange:Xn},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:n}),n}));return this.started&&i.forEach((function(e){e.subscribe(),e.started()})),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.middleware.filter((function(e){return t.includes(e.creator)})).forEach((function(e){return e.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(e){return!t.includes(e.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(jc("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(jc("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&e.some(kr))throw new Error(jc("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(jc("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(jc("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(jc("The `start` method has already been called once."));var t,n,r,i=this.mainHelper||Fa(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(i.searchForFacetValues=i.searchForCompositionFacetValues.bind(i)),i.search=function(){return e.status="loading",e.scheduleRender(!1),e._hasSearchWidget&&(e.compositionID?i.searchWithComposition():i.searchOnlyWithDerivedHelpers()),e._hasRecommendWidget&&i.recommend(),i},this._searchFunction){var o={search:function(){return new Promise(Xn)}};this._mainHelperSearch=i.search.bind(i),i.search=function(){var t=e.mainIndex.getHelper(),n=Fa(o,t.state.index,t.state);return n.once("search",(function(n){var r=n.state;t.overrideStateWithoutTriggeringChangeEvent(r),e._mainHelperSearch()})),n.on("change",(function(e){var n=e.state;t.setState(n)})),e._searchFunction(n),i}}if(i.on("error",(function(t){var n=t.error;if(!(n instanceof Error)){var r=n;n=Object.keys(r).reduce((function(e,t){return e[t]=r[t],e}),new Error(r.message))}n.error=n,e.error=n,e.status="error",e.scheduleRender(!1),e.emit("error",n)})),this.mainHelper=i,this.middleware.forEach((function(e){e.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){!function(e,t){if(t&&("transporter"in e&&!e._cacheHydrated||e._useCache&&"function"==typeof e.addAlgoliaAgent)){var n=[Object.keys(t).reduce((function(e,n){var r=t[n],i=r.state,o=r.requestParams,a=r.results,s=a&&i?a.map((function(e,t){return ri({indexName:i.index||e.index},null!=o&&o[t]||e.params?{params:oi((null==o?void 0:o[t])||(n=e.params,n.split("&").reduce((function(e,t){var n=ei(t.split("="),2),r=n[0],i=n[1];return e[r]=i?decodeURIComponent(i):"",e}),{})))}:{});var n})):[];return e.concat(s)}),[])],r=Object.keys(t).reduce((function(e,n){var r=t[n].results;return r?e.concat(r):e}),[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=Array.isArray(t)?t.map((function(e){return ri(ri({},e),{},{params:oi(e.params)})})):oi(t.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[a].concat(r)},(function(){return i.apply(void 0,[t].concat(r))}))},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var o="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=ri(ri({},e.cache),{},ii({},o,JSON.stringify({results:Object.keys(t).map((function(e){return t[e].results}))})))}}}(this.client,this._initialResults),t=this.mainHelper,n=this._initialResults,r=Object.keys(n).reduce((function(e,t){var r=n[t];return r.recommendResults?Xr(Xr({},e),r.recommendResults.results):e}),{}),t._recommendCache=r;var a=this.scheduleSearch;this.scheduleSearch=Ar(Xn),Ar((function(){e.scheduleSearch=a}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(e){e.instance.started()})),void 0===this._insights&&i.derivedHelpers[0].once("result",(function(){e.mainIndex.getScopedResults().some((function(e){var t=e.results;return null==t?void 0:t._automaticInsights}))&&e.use(Qa({$$internal:!0,$$automatic:!0}))}))}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null===(e=this.mainHelper)||void 0===e||e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e.status="stalled",e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(jc("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var r="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&n?this.onStateChange({uiState:r,setUiState:function(e){Tr("function"==typeof e?e(r):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(Tr(r,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(jc("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(jc("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(Vi),Ec=function(e){return new xc(e)};function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(null,arguments)}function kc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}),[]).filter(Boolean).join(" ")}Ec.version=pc,Ec.createInfiniteHitsSessionStorageCache=Yn((function(){var e=["ais.infiniteHits",(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).key].filter(Boolean).join(":");return{read:function(t){var n=t.state,r=ji((function(e){return e.window.sessionStorage}));if(!r)return null;try{var i=JSON.parse(r.getItem(e));return i&&si(i.state,Ui(n))?i.hits:null}catch(t){if(t instanceof SyntaxError)try{r.removeItem(e)}catch(e){}return null}},write:function(t){var n=t.state,r=t.hits,i=ji((function(e){return e.window.sessionStorage}));if(i)try{i.setItem(e,JSON.stringify({state:Ui(n),hits:r}))}catch(e){}}}})),Ec.highlight=Yn(xi),Ec.reverseHighlight=Yn(Ci),Ec.snippet=Yn(Ti),Ec.reverseSnippet=Yn(Ai),Ec.insights=Ii,Ec.getInsightsAnonymousUserToken=function(){return Hi()},Object.defineProperty(Ec,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Ec,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}}),Object.defineProperty(Ec,"templates",{get:function(){throw new ReferenceError("\"instantsearch.templates\" are not available from the ES build.\n\nTo import the templates:\n\nimport { carousel } from 'instantsearch.js/es/templates'")}});var Fc=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];var Ac=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];var Nc,Ic,Dc,Hc,Lc,Mc,Uc,qc,Bc,Qc,Wc,$c={},Vc=[],Gc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Kc=Array.isArray;function zc(e,t){for(var n in t)e[n]=t[n];return e}function Jc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Xc(e,t,n){var r,i,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Nc.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return Yc(e,a,r,i,null)}function Yc(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++Dc:i,__i:-1,__u:0};return null==i&&null!=Ic.vnode&&Ic.vnode(o),o}function Zc(e){return e.children}function eu(e,t){this.props=e,this.context=t}function tu(e,t){if(null==t)return e.__?tu(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?tu(e):null}function nu(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return nu(e)}}function ru(e){(!e.__d&&(e.__d=!0)&&Hc.push(e)&&!iu.__r++||Lc!==Ic.debounceRendering)&&((Lc=Ic.debounceRendering)||Mc)(iu)}function iu(){var e,t,n,r,i,o,a,s;for(Hc.sort(Uc);e=Hc.shift();)e.__d&&(t=Hc.length,r=void 0,o=(i=(n=e).__v).__e,a=[],s=[],n.__P&&((r=zc({},i)).__v=i.__v+1,Ic.vnode&&Ic.vnode(r),hu(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,null==o?tu(i):o,!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,pu(a,r,s),r.__e!=o&&nu(r)),Hc.length>t&&Hc.sort(Uc));iu.__r=0}function ou(e,t,n,r,i,o,a,s,c,u,l){var f,h,p,d,m,y,v=r&&r.__k||Vc,g=t.length;for(c=au(n,t,v,c,g),f=0;f<g;f++)null!=(p=n.__k[f])&&(h=-1===p.__i?$c:v[p.__i]||$c,p.__i=f,y=hu(e,p,h,i,o,a,s,c,u,l),d=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&mu(h.ref,null,p),l.push(p.ref,p.__c||d,p)),null==m&&null!=d&&(m=d),4&p.__u||h.__k===p.__k?c=su(p,c,e):"function"==typeof p.type&&void 0!==y?c=y:d&&(c=d.nextSibling),p.__u&=-7);return n.__e=m,c}function au(e,t,n,r,i){var o,a,s,c,u,l=n.length,f=l,h=0;for(e.__k=new Array(i),o=0;o<i;o++)null!=(a=t[o])&&"boolean"!=typeof a&&"function"!=typeof a?(c=o+h,(a=e.__k[o]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?Yc(null,a,null,null,null):Kc(a)?Yc(Zc,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?Yc(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,-1!==(u=a.__i=cu(a,n,c,f))&&(f--,(s=n[u])&&(s.__u|=2)),null==s||null===s.__v?(-1==u&&h--,"function"!=typeof a.type&&(a.__u|=4)):u!=c&&(u==c-1?h--:u==c+1?h++:(u>c?h--:h++,a.__u|=4))):e.__k[o]=null;if(f)for(o=0;o<l;o++)null!=(s=n[o])&&!(2&s.__u)&&(s.__e==r&&(r=tu(s)),yu(s,s));return r}function su(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=su(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=tu(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function cu(e,t,n,r){var i,o,a=e.key,s=e.type,c=t[n];if(null===c||c&&a==c.key&&s===c.type&&!(2&c.__u))return n;if(r>(null==c||2&c.__u?0:1))for(i=n-1,o=n+1;i>=0||o<t.length;){if(i>=0){if((c=t[i])&&!(2&c.__u)&&a==c.key&&s===c.type)return i;i--}if(o<t.length){if((c=t[o])&&!(2&c.__u)&&a==c.key&&s===c.type)return o;o++}}return-1}function uu(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Gc.test(t)?n:n+"px"}function lu(e,t,n,r,i){var o;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||uu(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||uu(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(qc,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Bc,e.addEventListener(t,o?Wc:Qc,o)):e.removeEventListener(t,o?Wc:Qc,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function fu(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=Bc++;else if(t.t<n.u)return;return n(Ic.event?Ic.event(t):t)}}}function hu(e,t,n,r,i,o,a,s,c,u){var l,f,h,p,d,m,y,v,g,b,w,_,O,S,j,P,R,x=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[s=t.__e=n.__e]),(l=Ic.__b)&&l(t);e:if("function"==typeof x)try{if(v=t.props,g="prototype"in x&&x.prototype.render,b=(l=x.contextType)&&r[l.__c],w=l?b?b.props.value:l.__:r,n.__c?y=(f=t.__c=n.__c).__=f.__E:(g?t.__c=f=new x(v,w):(t.__c=f=new eu(v,w),f.constructor=x,f.render=vu),b&&b.sub(f),f.props=v,f.state||(f.state={}),f.context=w,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),g&&null==f.__s&&(f.__s=f.state),g&&null!=x.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=zc({},f.__s)),zc(f.__s,x.getDerivedStateFromProps(v,f.__s))),p=f.props,d=f.state,f.__v=t,h)g&&null==x.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),g&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(g&&null==x.getDerivedStateFromProps&&v!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(v,w),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(v,f.__s,w)||t.__v==n.__v)){for(t.__v!=n.__v&&(f.props=v,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),_=0;_<f._sb.length;_++)f.__h.push(f._sb[_]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(v,f.__s,w),g&&null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,d,m)}))}if(f.context=w,f.props=v,f.__P=e,f.__e=!1,O=Ic.__r,S=0,g){for(f.state=f.__s,f.__d=!1,O&&O(t),l=f.render(f.props,f.state,f.context),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[]}else do{f.__d=!1,O&&O(t),l=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++S<25);f.state=f.__s,null!=f.getChildContext&&(r=zc(zc({},r),f.getChildContext())),g&&!h&&null!=f.getSnapshotBeforeUpdate&&(m=f.getSnapshotBeforeUpdate(p,d)),s=ou(e,Kc(P=null!=l&&l.type===Zc&&null==l.key?l.props.children:l)?P:[P],t,n,r,i,o,a,s,c,u),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),y&&(f.__E=f.__=null)}catch(e){if(t.__v=null,c||null!=o)if(e.then){for(t.__u|=c?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,t.__e=s}else for(R=o.length;R--;)Jc(o[R]);else t.__e=n.__e,t.__k=n.__k;Ic.__e(e,t,n)}else null==o&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=du(n.__e,t,n,r,i,o,a,c,u);return(l=Ic.diffed)&&l(t),128&t.__u?void 0:s}function pu(e,t,n){for(var r=0;r<n.length;r++)mu(n[r],n[++r],n[++r]);Ic.__c&&Ic.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Ic.__e(e,t.__v)}}))}function du(e,t,n,r,i,o,a,s,c){var u,l,f,h,p,d,m,y=n.props,v=t.props,g=t.type;if("svg"==g?i="http://www.w3.org/2000/svg":"math"==g?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=o)for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!g&&(g?p.localName==g:3==p.nodeType)){e=p,o[u]=null;break}if(null==e){if(null==g)return document.createTextNode(v);e=document.createElementNS(i,g,v.is&&v),s&&(Ic.__m&&Ic.__m(t,o),s=!1),o=null}if(null===g)y===v||s&&e.data===v||(e.data=v);else{if(o=o&&Nc.call(e.childNodes),y=n.props||$c,!s&&null!=o)for(y={},u=0;u<e.attributes.length;u++)y[(p=e.attributes[u]).name]=p.value;for(u in y)if(p=y[u],"children"==u);else if("dangerouslySetInnerHTML"==u)f=p;else if(!(u in v)){if("value"==u&&"defaultValue"in v||"checked"==u&&"defaultChecked"in v)continue;lu(e,u,null,p,i)}for(u in v)p=v[u],"children"==u?h=p:"dangerouslySetInnerHTML"==u?l=p:"value"==u?d=p:"checked"==u?m=p:s&&"function"!=typeof p||y[u]===p||lu(e,u,p,y[u],i);if(l)s||f&&(l.__html===f.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(f&&(e.innerHTML=""),ou(e,Kc(h)?h:[h],t,n,r,"foreignObject"==g?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&tu(n,0),s,c),null!=o)for(u=o.length;u--;)Jc(o[u]);s||(u="value","progress"==g&&null==d?e.removeAttribute("value"):void 0!==d&&(d!==e[u]||"progress"==g&&!d||"option"==g&&d!==y[u])&&lu(e,u,d,y[u],i),u="checked",void 0!==m&&m!==e[u]&&lu(e,u,m,y[u],i))}return e}function mu(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){Ic.__e(e,n)}}function yu(e,t,n){var r,i;if(Ic.unmount&&Ic.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||mu(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Ic.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&yu(r[i],t,n||"function"!=typeof e.type);n||Jc(e.__e),e.__c=e.__=e.__e=void 0}function vu(e,t,n){return this.constructor(e,n)}function gu(e,t,n){var r,i,o;t==document&&(t=document.documentElement),Ic.__&&Ic.__(e,t),r=!1?null:t.__k,i=[],o=[],hu(t,e=t.__k=Xc(Zc,null,[e]),r||$c,$c,t.namespaceURI,r?null:t.firstChild?Nc.call(t.childNodes):null,i,r?r.__e:t.firstChild,false,o),pu(i,e,o)}function bu(e){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(e)}function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _u(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bu(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e){return function(e){if(Array.isArray(e))return Su(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ju(e){var t=e.defaultTemplates,n=e.templates,r=e.templatesConfig,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ci([].concat(Ou(Object.keys(e||{})),Ou(Object.keys(t)))).reduce((function(n,r){var i=e?e[r]:void 0,o=t[r],a=void 0!==o&&o!==i;return n.templates[r]=a?o:i,n.useCustomCompileOptions[r]=a,n}),{templates:{},useCustomCompileOptions:{}})}(t,n);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){_u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({templatesConfig:r},i)}Nc=Vc.slice,Ic={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},Dc=0,eu.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=zc({},this.state),"function"==typeof e&&(e=e(zc({},n),this.props)),e&&zc(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),ru(this))},eu.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ru(this))},eu.prototype.render=Zc,Hc=[],Mc="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Uc=function(e,t){return e.__v.__b-t.__v.__b},iu.__r=0,qc=/(PointerCapture)$|Capture$/i,Bc=0,Qc=fu(!1),Wc=fu(!0);var Pu={};(function(e){var t=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,o=/\\/g,a=/\u2028/,s=/\u2029/;function c(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function u(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;r<i;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(n,r){var i,o=n.length,a=0,s=null,l=null,f="",h=[],p=!1,d=0,m=0,y="{{",v="}}";function g(){f.length>0&&(h.push({tag:"_t",text:new String(f)}),f="")}function b(n,r){if(g(),n&&function(){for(var n=!0,r=m;r<h.length;r++)if(!(n=e.tags[h[r].tag]<e.tags._v||"_t"==h[r].tag&&null===h[r].text.match(t)))return!1;return n}())for(var i,o=m;o<h.length;o++)h[o].text&&((i=h[o+1])&&">"==i.tag&&(i.indent=h[o].text.toString()),h.splice(o,1));else r||h.push({tag:"\n"});p=!1,m=h.length}function w(e,t){var n="="+v,r=e.indexOf(n,t),i=c(e.substring(e.indexOf("=",t)+1,r)).split(" ");return y=i[0],v=i[i.length-1],r+n.length-1}for(r&&(r=r.split(" "),y=r[0],v=r[1]),d=0;d<o;d++)0==a?u(y,n,d)?(--d,g(),a=1):"\n"==n.charAt(d)?b(p):f+=n.charAt(d):1==a?(d+=y.length-1,"="==(s=(l=e.tags[n.charAt(d+1)])?n.charAt(d+1):"_v")?(d=w(n,d),a=0):(l&&d++,a=2),p=d):u(v,n,d)?(h.push({tag:s,n:c(f),otag:y,ctag:v,i:"/"==s?p-y.length:d+v.length}),f="",d+=v.length-1,a=0,"{"==s&&("}}"==v?d++:"}"===(i=h[h.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):f+=n.charAt(d);return b(p,!0),h};var l={_t:!0,"\n":!0,$:!0,"/":!0};function f(t,n,r,i){var o,a=[],s=null,c=null;for(o=r[r.length-1];t.length>0;){if(c=t.shift(),o&&"<"==o.tag&&!(c.tag in l))throw new Error("Illegal content in < super tag.");if(e.tags[c.tag]<=e.tags.$||h(c,i))r.push(c),c.nodes=f(t,c.tag,r,i);else{if("/"==c.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+c.n);if(s=r.pop(),c.n!=s.n&&!p(c.n,s.n,i))throw new Error("Nesting error: "+s.n+" vs. "+c.n);return s.end=c.i,a}"\n"==c.tag&&(c.last=0==t.length||"\n"==t[0].tag)}a.push(c)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return a}function h(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n)return e.tag="#",!0}function p(e,t,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==e&&n[r].o==t)return!0}function d(e){var t=[];for(var n in e.partials)t.push('"'+y(n)+'":{name:"'+y(e.partials[n].name)+'", '+d(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var n in e)t.push('"'+y(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,n,r){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+d(t)+"}"};var m=0;function y(e){return e.replace(o,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function v(e){return~e.indexOf(".")?"d":"f"}function g(e,t){var n="<"+(t.prefix||"")+e.n+m++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+y(n)+'",c,p,"'+(e.indent||"")+'"));',n}function b(e,t){t.code+="t.b(t.t(t."+v(e.n)+'("'+y(e.n)+'",c,p,0)));'}function w(e){return"t.b("+e+");"}e.generate=function(t,n,r){m=0;var i={code:"",subs:{},partials:{}};return e.walk(t,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var r=this.makePartials(e);return r.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(r,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+v(t.n)+'("'+y(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+v(t.n)+'("'+y(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":g,"<":function(t,n){var r={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,r);var i=n.partials[g(t,n)];i.subs=r.subs,i.partials=r.partials},$:function(t,n){var r={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,r),n.subs[t.n]=r.code,n.inPartial||(n.code+='t.sub("'+y(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=w('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+v(e.n)+'("'+y(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=w('"'+y(e.text)+'"')},"{":b,"&":b},e.walk=function(t,n){for(var r,i=0,o=t.length;i<o;i++)(r=e.codegen[t[i].tag])&&r(t[i],n);return n},e.parse=function(e,t,n){return f(e,0,[],(n=n||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var r=e.cacheKey(t,n),i=this.cache[r];if(i){var o=i.partials;for(var a in o)delete o[a].instance;return i}return i=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[r]=i}})(Pu);var Ru={};!function(e){!function(e){function t(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=c(e),s.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(a,"&quot;"):e},t:c,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],r=t[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[e].base=r,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);r=function(e,t,n,r,i,o){function a(){}function s(){}var c;a.prototype=e,s.prototype=e.subs;var u=new a;for(c in u.subs=new s,u.subsText={},u.buf="",r=r||{},u.stackSubs=r,u.subsText=o,t)r[c]||(r[c]=t[c]);for(c in r)u.subs[c]=r[c];for(c in i=i||{},u.stackPartials=i,n)i[c]||(i[c]=n[c]);for(c in i)u.partials[c]=i[c];return u}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=r,r},rp:function(e,t,n,r){var i=this.ep(e,n);return i?i.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(u(r))for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,r,i,o,a){var s;return(!u(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,r,i,o,a)),s=!!e,!r&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,n,r,i){var o,a=e.split("."),s=this.f(a[0],n,r,i),c=this.options.modelGet,l=null;if("."===e&&u(n[n.length-2]))s=n[n.length-1];else for(var f=1;f<a.length;f++)void 0!==(o=t(a[f],s,c))?(l=s,s=o):s="";return!(i&&!s)&&(i||"function"!=typeof s||(n.push(l),s=this.mv(s,n,r),n.pop()),s)},f:function(e,n,r,i){for(var o=!1,a=!1,s=this.options.modelGet,c=n.length-1;c>=0;c--)if(void 0!==(o=t(e,n[c],s))){a=!0;break}return a?(i||"function"!=typeof o||(o=this.mv(o,n,r)),o):!i&&""},ls:function(e,t,n,r,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(e.call(t,r)),t,n)),this.options.delimiters=o,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,i,o,a){var s,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!r||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,n,s.substring(i,o),a)):u},mv:function(e,t,n){var r=t[t.length-1],i=e.call(r);return"function"==typeof i?this.ct(c(i.call(r)),r,n):i},sub:function(e,t,n,r){var i=this.subs[e];i&&(this.activeSub=e,i(t,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,i=/>/g,o=/\'/g,a=/\"/g,s=/[&<>\"\']/;function c(e){return String(null==e?"":e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(e)}(Ru);var xu=Pu;xu.Template=Ru.Template,xu.template=xu.Template;var Eu=t(xu),Cu=function(e,t,n,r){var i;t[0]=0;for(var o=1;o<t.length;o++){var a=t[o++],s=t[o]?(t[0]|=a?1:2,n[t[o++]]):t[++o];3===a?r[0]=s:4===a?r[1]=Object.assign(r[1]||{},s):5===a?(r[1]=r[1]||{})[t[++o]]=s:6===a?r[1][t[++o]]+=s+"":a?(i=e.apply(s,Cu(e,s,n,["",null])),r.push(i),s[0]?t[0]|=2:(t[o-2]=0,t[o]=i)):r.push(s)}return r},ku=new Map;var Tu,Fu,Au,Nu,Iu=function(e){var t=ku.get(this);return t||(t=new Map,ku.set(this,t)),(t=Cu(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,i="",o="",a=[0],s=function(e){1===r&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,i):3===r&&(e||i)?(a.push(3,e,i),r=2):2===r&&"..."===i&&e?a.push(4,e,0):2===r&&i&&!e?a.push(5,0,!0,i):r>=5&&((i||!e&&5===r)&&(a.push(r,0,i,n),r=6),e&&(a.push(r,e,0,n),r=6)),i=""},c=0;c<e.length;c++){c&&(1===r&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===r?"<"===t?(s(),a=[a],r=3):i+=t:4===r?"--"===i&&">"===t?(r=1,i=""):i=t+i[0]:o?t===o?o="":i+=t:'"'===t||"'"===t?o=t:">"===t?(s(),r=1):r&&("="===t?(r=5,n=i,i=""):"/"===t&&(r<5||">"===e[c][u+1])?(s(),3===r&&(a=a[0]),r=a,(a=a[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),r=2):i+=t),3===r&&"!--"===i&&(r=4,a=a[0])}return s(),a}(e)),t),arguments,[])).length>1?t:t[0]}.bind(Xc),Du=(Fu=(Tu={createElement:Xc,Fragment:Zc}).createElement,Au=Tu.Fragment,Nu=function(e){var t=e.createElement;return function(e){var n=e.classNames,r=e.children,i=e.highlightedTagName,o=e.isHighlighted,a=e.nonHighlightedTagName;return t(o?i:a,{className:o?n.highlighted:n.nonHighlighted},r)}}({createElement:Fu}),function(e){var t=e.parts,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.nonHighlightedTagName,o=void 0===i?"span":i,a=e.separator,s=void 0===a?", ":a,c=e.className,u=e.classNames,l=void 0===u?{}:u,f=kc(e,Fc);return Fu("span",Cc({},f,{className:Tc(l.root,c)}),t.map((function(e,n){var i=n===t.length-1;return Fu(Au,{key:n},e.map((function(e,t){return Fu(Nu,{key:t,classNames:l,highlightedTagName:r,nonHighlightedTagName:o,isHighlighted:e.isHighlighted},e.value)})),!i&&Fu("span",{className:l.separator},s))})))}),Hu=["classNames"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}function Mu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uu(e){var t=e.classNames,n=void 0===t?{}:t,r=Mu(e,Hu);return Xc(Du,Lu({classNames:{root:Tc("ais-Highlight",n.root),highlighted:Tc("ais-Highlight-highlighted",n.highlighted),nonHighlighted:Tc("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:Tc("ais-Highlight-separator",n.separator)}},r))}var qu=["hit","attribute","cssClasses"];function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bu.apply(this,arguments)}function Qu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wu(e){var t=e.hit,n=e.attribute,r=e.cssClasses,i=Qu(e,qu),o=Pi(Ur(t._highlightResult,n)||[]).map((function(e){return Hr(ar(e.value||""))}));return Xc(Uu,Bu({},i,{parts:o,classNames:r}))}var $u=["classNames"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}function Gu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ku(e){var t=e.classNames,n=void 0===t?{}:t,r=Gu(e,$u);return Xc(Du,Vu({classNames:{root:Tc("ais-ReverseHighlight",n.root),highlighted:Tc("ais-ReverseHighlight-highlighted",n.highlighted),nonHighlighted:Tc("ais-ReverseHighlight-nonHighlighted",n.nonHighlighted),separator:Tc("ais-ReverseHighlight-separator",n.separator)}},r))}function zu(e){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(e)}var Ju=["hit","attribute","cssClasses"],Xu=["isHighlighted"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zu(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rl(e){var t=e.hit,n=e.attribute,r=e.cssClasses,i=nl(e,Ju),o=Pi(Ur(t._highlightResult,n)||[]).map((function(e){return Hr(ar(e.value||"")).map((function(e){var t=e.isHighlighted;return el(el({},nl(e,Xu)),{},{isHighlighted:!t})}))}));return Xc(Ku,Yu({},i,{parts:o,classNames:r}))}var il=["classNames"];function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(this,arguments)}function al(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sl(e){var t=e.classNames,n=void 0===t?{}:t,r=al(e,il);return Xc(Du,ol({classNames:{root:Tc("ais-ReverseSnippet",n.root),highlighted:Tc("ais-ReverseSnippet-highlighted",n.highlighted),nonHighlighted:Tc("ais-ReverseSnippet-nonHighlighted",n.nonHighlighted),separator:Tc("ais-ReverseSnippet-separator",n.separator)}},r))}function cl(e){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}var ul=["hit","attribute","cssClasses"],ll=["isHighlighted"];function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cl(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yl(e){var t=e.hit,n=e.attribute,r=e.cssClasses,i=ml(e,ul),o=Pi(Ur(t._snippetResult,n)||[]).map((function(e){return Hr(ar(e.value||"")).map((function(e){var t=e.isHighlighted;return pl(pl({},ml(e,ll)),{},{isHighlighted:!t})}))}));return Xc(sl,fl({},i,{parts:o,classNames:r}))}var vl=["classNames"];function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(this,arguments)}function bl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wl(e){var t=e.classNames,n=void 0===t?{}:t,r=bl(e,vl);return Xc(Du,gl({classNames:{root:Tc("ais-Snippet",n.root),highlighted:Tc("ais-Snippet-highlighted",n.highlighted),nonHighlighted:Tc("ais-Snippet-nonHighlighted",n.nonHighlighted),separator:Tc("ais-Snippet-separator",n.separator)}},r))}var _l=["hit","attribute","cssClasses"];function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function Sl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jl(e){var t=e.hit,n=e.attribute,r=e.cssClasses,i=Sl(e,_l),o=Pi(Ur(t._snippetResult,n)||[]).map((function(e){return Hr(ar(e.value||""))}));return Xc(wl,Ol({},i,{parts:o,classNames:r}))}function Pl(e){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(e)}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Pl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Pl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pl(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e){var t=e.templates,n=e.templateKey,r=e.compileOptions,i=e.helpers,o=e.data,a=e.bindEvent,s=e.sendEvent,c=t[n];if("string"!=typeof c&&"function"!=typeof c)throw new Error("Template must be 'string' or 'function', was '".concat(Pl(c),"' (key: ").concat(n,")"));if("function"==typeof c){var u=a||{};return u.html=Iu,u.sendEvent=s,u.components={Highlight:Wu,ReverseHighlight:rl,Snippet:jl,ReverseSnippet:yl},c(o,u)}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(e).reduce((function(r,i){return xl(xl({},r),{},El({},i,(function(){var r=this;return function(o){return e[i].call(n,o,(function(e){return Eu.compile(e,t).render(r)}))}})))}),{})}(i,r,o);return Eu.compile(c,r).render(xl(xl({},o),{},{helpers:l})).replace(/[ \n\r\t\f\xA0]+/g,(function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})).trim()}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function Fl(e){return function(e){if(Array.isArray(e))return Al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Al(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bl(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hl(e,t)}function Hl(e,t){return Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hl(e,t)}function Ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ml(e)}(this,n)}}function Ml(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ul(e)}function ql(e,t,n){return(t=Bl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bl(e){var t=function(e,t){if("object"!=Tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Tl(t)?t:String(t)}var Ql=function(e){Dl(n,e);var t=Ll(n);function n(){var e;Nl(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ql(Ml(e=t.call.apply(t,[this].concat(i))),"ref",{current:null}),ql(Ml(e),"nodes",[]),e}return Il(n,[{key:"componentDidMount",value:function(){var e=new DocumentFragment,t=document.createElement("div");t.innerHTML=this.props.content,this.nodes=Fl(t.childNodes),this.nodes.forEach((function(t){return e.appendChild(t)})),this.ref.current.replaceWith(e)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach((function(e){e instanceof Element?e.outerHTML="":e.nodeValue=""})),this.nodes[0].nodeValue&&(this.nodes[0].nodeValue="")}},{key:"render",value:function(){return Xc("div",{ref:this.ref})}}]),n}(eu),Wl=function(e){Dl(n,e);var t=Ll(n);function n(){return Nl(this,n),t.apply(this,arguments)}return Il(n,[{key:"shouldComponentUpdate",value:function(e){return!si(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!si(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e="fragment"===this.props.rootTagName?Zc:this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},n=Cl({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===n?null:"object"===Tl(n)?Xc(e,this.props.rootProps,n):e===Zc?Xc(Ql,{content:n,key:Math.random()}):Xc(e,kl({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:n}}))}}]),n}(eu);function $l(e){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(e)}function Vl(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yl(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gl(e,t){return Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gl(e,t)}function Kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jl(e);if(t){var i=Jl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===$l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zl(e)}(this,n)}}function zl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jl(e){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jl(e)}function Xl(e,t,n){return(t=Yl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yl(e){var t=function(e,t){if("object"!=$l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$l(t)?t:String(t)}ql(Wl,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});var Zl={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,ignoreCompositionEvents:!1,isSearchStalled:!1,disabled:!1,ariaLabel:"Search",onChange:Xn,onSubmit:Xn,onReset:Xn,refine:Xn},ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gl(e,t)}(n,e);var t=Kl(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Xl(zl(e=t.call.apply(t,[this].concat(i))),"state",{query:e.props.query,focused:!1}),Xl(zl(e),"input",{current:null}),Xl(zl(e),"onInput",(function(t){var n=e.props,r=n.searchAsYouType,i=n.refine,o=n.onChange,a=t.target.value;e.props.ignoreCompositionEvents&&t.isComposing||(r&&i(a),e.setState({query:a}),o(t))})),Xl(zl(e),"onSubmit",(function(t){var n=e.props,r=n.searchAsYouType,i=n.refine,o=n.onSubmit;return t.preventDefault(),t.stopPropagation(),e.input.current&&e.input.current.blur(),r||i(e.state.query),o(t),!1})),Xl(zl(e),"onReset",(function(t){var n=e.props,r=n.refine,i=n.onReset;e.input.current&&e.input.current.focus(),r(""),e.setState({query:""}),i(t)})),Xl(zl(e),"onBlur",(function(){e.setState({focused:!1})})),Xl(zl(e),"onFocus",(function(){e.setState({focused:!0})})),e}return Vl(n,[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,n=e.placeholder,r=e.autofocus,i=e.showSubmit,o=e.showReset,a=e.showLoadingIndicator,s=e.templates,c=e.isSearchStalled,u=e.ariaLabel;return Xc("div",{className:t.root},Xc("form",{action:"",role:"search",className:t.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},Xc("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:t.input,type:"search",placeholder:n,autoFocus:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,oncompositionend:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,"aria-label":u}),Xc(Wl,{templateKey:"submit",rootTagName:"button",rootProps:{className:t.submit,type:"submit",title:"Submit the search query",hidden:!i},templates:s,data:{cssClasses:t}}),Xc(Wl,{templateKey:"reset",rootTagName:"button",rootProps:{className:t.reset,type:"reset",title:"Clear the search query",hidden:!(o&&this.state.query.trim()&&!c)},templates:s,data:{cssClasses:t}}),a&&Xc(Wl,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:t.loadingIndicator,hidden:!c},templates:s,data:{cssClasses:t}})))}}]),n}(eu);function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach((function(t){of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Xl(ef,"defaultProps",Zl);var af=Nr({name:"hits",connector:!0}),sf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn;return Zn(e,af()),function(n){var r,i,o=n||{},a=o.escapeHTML,s=void 0===a||a,c=o.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(rf(rf({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);e(rf(rf({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1),n.sendEvent("view:internal",n.items)},getRenderState:function(e,t){return rf(rf({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,o,a,c=e.results,l=e.helper,f=e.instantSearchInstance;if(r||(r=function(e){var t=e.instantSearchInstance,n=e.getIndex,r=e.widgetType,i={},o=void 0;return function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];Cr({widgetType:r,getIndex:n,methodName:"sendEvent",args:a,instantSearchInstance:t}).forEach((function(e){"click"===e.eventType&&"internal"===e.eventModifier&&i[e.eventType]||(i[e.eventType]=!0,t.sendEventToInsights(e))})),clearTimeout(o),o=setTimeout((function(){i={}}),0)}}({instantSearchInstance:f,getIndex:function(){return l.getIndex()},widgetType:this.$$type})),i||(i=function(e){var t=e.getIndex,n=e.widgetType,r=e.instantSearchInstance;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=Cr({widgetType:n,getIndex:t,methodName:"bindEvent",args:i,instantSearchInstance:r});return a.length?"data-insights-event=".concat(_r(a)):""}}({getIndex:function(){return l.getIndex()},widgetType:this.$$type,instantSearchInstance:f})),!c)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:r,bindEvent:i,widgetParams:n};s&&c.hits.length>0&&(c.hits=br(c.hits));var h=function(e,t,n){return e.map((function(e,r){return Qr(Qr({},e),{},{__position:n*t+r+1})}))}(c.hits,c.page,c.hitsPerPage),p=function(e,t){return t?e.map((function(e){return Gr(Gr({},e),{},{__queryID:t})})):e}(h,c.queryID),d=u(p,{results:c});return{hits:d,items:d,results:c,banner:null===(t=c.renderingContent)||void 0===t||null===(o=t.widgets)||void 0===o||null===(a=o.banners)||void 0===a?void 0:a[0],sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(e){var n=e.state;return t(),s?n.setQueryParameters(Object.keys(dr).reduce((function(e,t){return rf(rf({},e),{},of({},t,void 0))}),{})):n},getWidgetSearchParameters:function(e,t){return s?e.setQueryParameters(dr):e}}}};function cf(e){return cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(e)}function uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(n),!0).forEach((function(t){ff(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ff(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hf=function(e){var t=e.method,n=e.results,r=e.hits,i=e.objectIDs,o=n.index,a=function(e,t){return t.map((function(t){var n=Ir(e,(function(e){return e.objectID===t}));if(void 0===n)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n}))}(r,i),s=function(e){var t=ci(e.map((function(e){return e.__queryID})));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(a);switch(t){case"clickedObjectIDsAfterSearch":var c=function(e){return e.map((function(e){return e.__position}))}(a);return{index:o,queryID:s,objectIDs:i,positions:c};case"convertedObjectIDsAfterSearch":return{index:o,queryID:s,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}};function pf(e){return function(t,n){return e((function(e,n){var r=e.results,i=e.hits,o=e.instantSearchInstance;if(r&&i&&o){var a=function(e,t,n){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=o[0];if(!e){var c=Nr({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(s.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var u=hf({method:r,results:t,hits:n,objectIDs:s.objectIDs});e(r,lf(lf({},u),s))}}(o.insightsClient,r,i);return t(lf(lf({},e),{},{insights:a}),n)}return t(e,n)}),n)}}var df=function(e){var t=e.insights,n=e.sendEvent;return function(e){var r=mf(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-event")}));r&&function(e){var t=e.getAttribute("data-insights-event");if("string"!=typeof t)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return Or(t)}catch(e){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}(r).forEach((function(e){return n(e)}));var i=mf(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-method")&&e.hasAttribute("data-insights-payload")}));if(i){var o=function(e){var t=e.getAttribute("data-insights-method"),n=e.getAttribute("data-insights-payload");if("string"!=typeof n)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:Or(n)}}catch(e){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(i),a=o.method,s=o.payload;t(a,s)}}};function mf(e,t,n){for(var r=e;r&&!n(r);){if(r===t)return null;r=r.parentElement}return r}var yf={empty:function(){return"No results"},item:function(e){return JSON.stringify((n=["__hitIndex"],null==(t=e)?t:Object.keys(t).reduce((function(e,r){if(n.indexOf(r)>=0)return e;var i=r;return e[i]=t[i],e}),{})),null,2);var t,n}};function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}var gf=["hit","index"];function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){_f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _f(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Of(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(this,arguments)}var jf=Nr({name:"hits"}),Pf=function(e){var t=e.createElement,n=function(e){var t=e.createElement;return function(e){var n=e.classNames,r=e.banner;return r.image.urls[0].url?t("aside",{className:Tc("ais-Hits-banner",n.bannerRoot)},r.link?t("a",{className:Tc("ais-Hits-banner-link",n.bannerLink),href:r.link.url,target:r.link.target},t("img",{className:Tc("ais-Hits-banner-image",n.bannerImage),src:r.image.urls[0].url,alt:r.image.title})):t("img",{className:Tc("ais-Hits-banner-image",n.bannerImage),src:r.image.urls[0].url,alt:r.image.title})):null}}({createElement:t});return function(e){var r=e.classNames,i=void 0===r?{}:r,o=e.hits,a=e.itemComponent,s=e.sendEvent,c=e.emptyComponent,u=e.banner,l=e.bannerComponent,f=kc(e,Ac);return t("div",Cc({},f,{className:Tc("ais-Hits",i.root,0===o.length&&Tc("ais-Hits--empty",i.emptyRoot),f.className)}),u&&(l?t(l,{className:Tc("ais-Hits-banner",i.bannerRoot),banner:u}):t(n,{classNames:i,banner:u})),0===o.length&&c?t(c,null):t("ol",{className:Tc("ais-Hits-list",i.list)},o.map((function(e,n){return t(a,{key:e.objectID,hit:e,index:n,className:Tc("ais-Hits-item",i.item),onClick:function(){s("click:internal",e,"Hit Clicked")},onAuxClick:function(){s("click:internal",e,"Hit Clicked")}})}))))}}({createElement:Xc}),Rf=function(e){var t=e.renderState,n=e.cssClasses,r=e.containerNode,i=e.templates;return function(e,o){var a=e.items,s=e.results,c=e.instantSearchInstance,u=e.insights,l=e.bindEvent,f=e.sendEvent,h=e.banner;if(o)t.templateProps=ju({defaultTemplates:yf,templatesConfig:c.templatesConfig,templates:i});else{var p=df({insights:u,sendEvent:f});gu(Xc(Pf,{hits:a,itemComponent:function(e){var n=e.hit,r=e.index,i=Of(e,gf);return Xc(Wl,Sf({},t.templateProps,{templateKey:"item",rootTagName:"li",rootProps:wf(wf({},i),{},{onClick:function(e){p(e),i.onClick()},onAuxClick:function(e){p(e),i.onAuxClick()}}),data:wf(wf({},n),{},{get __hitIndex(){return r}}),bindEvent:l,sendEvent:f}))},sendEvent:f,classNames:n,emptyComponent:function(e){var n=Sf({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return Xc(Wl,Sf({},t.templateProps,{rootProps:n,templateKey:"empty",data:s,rootTagName:"fragment"}))},banner:h,bannerComponent:i.banner?function(e){return Xc(Wl,Sf({},t.templateProps,{templateKey:"banner",data:e,rootTagName:"fragment"}))}:void 0}),r)}}},xf=function(e){var t=e||{},n=t.container,r=t.escapeHTML,i=t.transformItems,o=t.templates,a=void 0===o?{}:o,s=t.cssClasses,c=void 0===s?{}:s;if(!n)throw new Error(jf("The `container` option is required."));var u=Dr(n),l=Rf({containerNode:u,cssClasses:c,renderState:{},templates:a});return wf(wf({},pf(sf)(l,(function(){return gu(null,u)}))({escapeHTML:r,transformItems:i})),{},{$$widgetType:"ais.hits"})},Ef=Xc("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),Cf=Xc("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),kf=Xc("g",{fill:"none","fill-rule":"evenodd"},Xc("g",{transform:"translate(1 1)","stroke-width":"2"},Xc("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),Xc("path",{d:"M36 18c0-9.94-8.06-18-18-18"},Xc("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),Tf={reset:function(e){return Xc("svg",{className:e.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},Ef)},submit:function(e){return Xc("svg",{className:e.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},Cf)},loadingIndicator:function(e){return Xc("svg",{"aria-label":"Results are loading",className:e.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444","aria-hidden":"true"},kf)}};function Ff(e){return Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(e)}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Af(Object(n),!0).forEach((function(t){If(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function If(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ff(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ff(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ff(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Df=Nr({name:"search-box",connector:!0}),Hf=function(e,t){return t(e)};function Lf(e){return Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(e)}function Mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(n),!0).forEach((function(t){qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Lf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bf=Nr({name:"search-box"}),Qf=zn("SearchBox"),Wf=function(e){var t=e||{},n=t.container,r=t.placeholder,i=void 0===r?"":r,o=t.cssClasses,a=void 0===o?{}:o,s=t.autofocus,c=void 0!==s&&s,u=t.searchAsYouType,l=void 0===u||u,f=t.ignoreCompositionEvents,h=void 0!==f&&f,p=t.showReset,d=void 0===p||p,m=t.showSubmit,y=void 0===m||m,v=t.showLoadingIndicator,g=void 0===v||v,b=t.queryHook,w=t.templates,_=void 0===w?{}:w;if(!n)throw new Error(Bf("The `container` option is required."));var O=Dr(n),S={root:Tc(Qf(),a.root),form:Tc(Qf({descendantName:"form"}),a.form),input:Tc(Qf({descendantName:"input"}),a.input),submit:Tc(Qf({descendantName:"submit"}),a.submit),submitIcon:Tc(Qf({descendantName:"submitIcon"}),a.submitIcon),reset:Tc(Qf({descendantName:"reset"}),a.reset),resetIcon:Tc(Qf({descendantName:"resetIcon"}),a.resetIcon),loadingIndicator:Tc(Qf({descendantName:"loadingIndicator"}),a.loadingIndicator),loadingIcon:Tc(Qf({descendantName:"loadingIcon"}),a.loadingIcon)},j=Uf(Uf({},Tf),_),P=function(e){var t=e.containerNode,n=e.cssClasses,r=e.placeholder,i=e.templates,o=e.autofocus,a=e.searchAsYouType,s=e.ignoreCompositionEvents,c=e.showReset,u=e.showSubmit,l=e.showLoadingIndicator;return function(e){var f=e.refine,h=e.query,p=e.isSearchStalled;gu(Xc(ef,{query:h,placeholder:r,autofocus:o,refine:f,searchAsYouType:a,ignoreCompositionEvents:s,templates:i,showSubmit:u,showReset:c,showLoadingIndicator:l,isSearchStalled:p,cssClasses:n}),t)}}({containerNode:O,cssClasses:S,placeholder:i,templates:j,autofocus:c,searchAsYouType:l,ignoreCompositionEvents:h,showReset:d,showSubmit:y,showLoadingIndicator:g}),R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn;return Zn(e,Df()),function(n){var r,i,o=(n||{}).queryHook,a=void 0===o?Hf:o;return{$$type:"ais.searchBox",init:function(t){var n=t.instantSearchInstance;e(Nf(Nf({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Nf(Nf({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("query",void 0)},getRenderState:function(e,t){return Nf(Nf({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,o=e.instantSearchInstance,s=e.state;return r||(r=function(e){a(e,(function(e){return t.setQuery(e).search()}))},i=function(){t.setQuery("").search()}),{query:s.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:"stalled"===o.status}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:Nf(Nf({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}}(P,(function(){return gu(null,O)}));return Uf(Uf({},R({queryHook:b})),{},{$$widgetType:"ais.searchBox"})};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}("#mp-search-wrapper{--modal-bg:#fff;--text-primary:#333;--text-secondary:#666;--border-color:rgba(0,0,0,.1);--hover-bg:rgba(0,0,0,.05);--backdrop-color:rgba(0,0,0,.5);--accent-color:var(--ghost-accent-color,#1c1c1c);all:initial;font-family:system-ui,-apple-system,sans-serif;inset:0;pointer-events:none;position:fixed;z-index:9999}#mp-search-wrapper.dark{--modal-bg:#1c1c1c;--text-primary:#fff;--text-secondary:#999;--border-color:hsla(0,0%,100%,.1);--hover-bg:hsla(0,0%,100%,.05);--backdrop-color:rgba(0,0,0,.7)}#mp-search-modal{height:100%;pointer-events:auto;position:relative;width:100%}#mp-search-modal.hidden{display:none}.mp-backdrop{backdrop-filter:blur(4px);background:var(--backdrop-color);inset:0;position:fixed}.mp-modal-container{align-items:flex-start;display:flex;justify-content:center;min-height:100%;padding:1rem;position:relative}.mp-modal-content{background:var(--modal-bg);border:1px solid var(--border-color);border-radius:.75rem;box-shadow:0 10px 25px rgba(0,0,0,.1);margin-bottom:1.5rem;margin-top:10vh;max-width:42rem;overflow:hidden;width:100%}.mp-results-container{max-height:70vh;overflow-y:auto;padding:0 1.5rem}.mp-results-container::-webkit-scrollbar{width:6px}.mp-results-container::-webkit-scrollbar-track{background:transparent}.mp-results-container::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.mp-result-item{display:block;padding:1rem 1.5rem;text-decoration:none;transition:all .15s ease}.mp-result-item:hover{background:var(--hover-bg)}.mp-result-title{color:var(--text-primary);font-size:1.125rem;font-weight:600;line-height:1.4;margin-bottom:.375rem;transition:color .15s ease}.mp-result-item:hover .mp-result-title{color:var(--accent-color)}.mp-result-excerpt{color:var(--text-secondary);font-size:.875rem;line-height:1.5;margin-top:.25rem;opacity:.9}.mp-common-searches{padding:1.5rem 0}.mp-common-searches-title{color:var(--text-secondary);font-size:.75rem;font-weight:600;letter-spacing:.05em;margin-bottom:.75rem;text-transform:uppercase}.mp-common-search-btn,.mp-result-item{background:none;border:none;border-radius:6px;color:var(--text-primary);display:block;margin-bottom:2px;padding:.75rem;text-align:left;text-decoration:none;transition:background-color .15s ease;width:100%}.mp-common-search-btn:hover,.mp-result-item:hover,.mp-selected{background:var(--hover-bg)}.mp-search-header{border-bottom:1px solid var(--border-color);padding:1.25rem 1.5rem;position:relative}.mp-search-input{-webkit-appearance:none;background:transparent;border:none;box-shadow:none!important;color:var(--text-primary);font-size:1rem;height:2.5rem;outline:none!important;padding:.5rem .5rem .5rem 2.5rem;width:100%}.mp-search-input[type=search]::-webkit-search-cancel-button,.mp-search-input[type=search]::-webkit-search-decoration,.mp-search-input[type=search]::-webkit-search-results-button,.mp-search-input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;display:none}.mp-search-input:focus,.mp-search-input:focus-visible{-webkit-appearance:none;border:none!important;box-shadow:none!important;outline:none!important}.mp-search-input::placeholder{color:var(--text-secondary);opacity:.8}.mp-search-header:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23666' viewBox='0 0 24 24'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m21 21-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:contain;content:\"\";height:1.25rem;left:1.5rem;opacity:.7;position:absolute;top:50%;transform:translateY(-50%);width:1.25rem}.dark .mp-search-header:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23999' viewBox='0 0 24 24'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m21 21-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0'/%3E%3C/svg%3E\")}.mp-keyboard-hints{color:var(--text-secondary);display:flex;font-size:.75rem;gap:.75rem;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%)}@media (max-width:640px){.mp-keyboard-hints{display:none}}.mp-kbd{border:1px solid var(--border-color);border-radius:.25rem;color:var(--text-secondary);font-size:.75rem;font-weight:500;padding:.125rem .375rem}.mp-kbd,.mp-selected{background:var(--hover-bg)}.mp-selected{border-radius:8px}.mp-selected .mp-result-title{color:var(--accent-color)}.mp-empty-message{color:var(--text-secondary);font-size:1rem;padding:3rem 1.5rem;text-align:center}#mp-empty-state,#mp-hits,.mp-common-searches{padding:.5rem 0}.ais-Highlight-highlighted,.ais-Snippet-highlighted{background:none;color:var(--accent-color);font-weight:700}"),function(){class e{constructor(e={}){const t=window.__MP_SEARCH_CONFIG__||{typesenseNodes:[{host:"localhost",port:"8108",protocol:"http"}],typesenseApiKey:null,collectionName:null,commonSearches:[],theme:"system"};if(this.config={...t,...e},!this.config.typesenseNodes||!this.config.typesenseApiKey||!this.config.collectionName)throw new Error("MagicPagesSearch: Missing required configuration. Please ensure typesenseNodes, typesenseApiKey, and collectionName are provided.");this.selectedIndex=-1,this.handleThemeChange(),this.init()}createSearchModal(){const e=`\n                <div id="mp-search-wrapper">\n                    <div id="mp-search-modal" class="hidden">\n                        <div class="mp-backdrop"></div>\n                        <div class="mp-modal-container">\n                            <div class="mp-modal-content">\n                                <div class="mp-search-header">\n                                    <div id="mp-searchbox"></div>\n                                    <div class="mp-keyboard-hints">\n                                        <span>\n                                            <kbd class="mp-kbd">↑↓</kbd>\n                                            to navigate\n                                        </span>\n                                        <span>\n                                            <kbd class="mp-kbd">esc</kbd>\n                                            to close\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class="mp-results-container">\n                                    ${this.config.commonSearches.length?`\n                <div class="mp-common-searches">\n                    <div class="mp-common-searches-title">Common searches</div>\n                    <div id="mp-common-searches-container">\n                        ${this.config.commonSearches.map((e=>`\n                            <button type="button" class="mp-common-search-btn" data-search="${e}">\n                                ${e}\n                            </button>\n                        `)).join("")}\n                    </div>\n                </div>\n            `:""}\n                                    <div id="mp-hits"></div>\n                                    <div id="mp-empty-state" class="hidden">\n                                        <div class="mp-empty-message">\n                                            <p>No results found for your search</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;document.body.insertAdjacentHTML("beforeend",e)}init(){this.createSearchModal(),this.modal=document.getElementById("mp-search-modal");const e=new Kn({server:{apiKey:this.config.typesenseApiKey,nodes:this.config.typesenseNodes},additionalSearchParameters:{query_by:"title,html,excerpt,custom_excerpt,headings",typo_tolerance:!0,num_typos:2,highlight_full_fields:"title,html,excerpt,custom_excerpt"}});console.log("Typesense Configuration:",{nodes:this.config.typesenseNodes,collectionName:this.config.collectionName}),this.search=Ec({indexName:this.config.collectionName,searchClient:e.searchClient,searchFunction:e=>{console.log("Search query:",e.state),this.handleSearch(e)}}),this.initWidgets(),this.search.start(),this.initEventListeners(),this.attachCommonSearchListeners(),"#/search"===window.location.hash&&this.openModal()}handleSearch(e){const t=document.getElementById("mp-hits"),n=document.querySelector(".mp-common-searches"),r=document.getElementById("mp-empty-state");""===e.state.query?(t.classList.add("hidden"),n?.classList.remove("hidden"),r.classList.add("hidden")):(t.classList.remove("hidden"),n?.classList.add("hidden"),r.classList.add("hidden"),e.search())}initWidgets(){this.searchBox=Wf({container:"#mp-searchbox",placeholder:"Search for anything",autofocus:!0,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{root:"",form:"",input:"mp-search-input",resetIcon:"hidden",submitIcon:"hidden"}}),this.search.addWidgets([this.searchBox,xf({container:"#mp-hits",cssClasses:{root:"",list:"",item:""},templates:{item:e=>{try{const t=document.createElement("div");t.innerHTML=e.custom_excerpt||e.excerpt||e.html||"";const n=(t.textContent||t.innerText||"").trim().substring(0,120).replace(/\s+[^\s]*$/,"..."),r=e._highlightResult?.title?.value||e.title||"Untitled";return`\n                                    <a href="${e.url||"#"}" class="mp-result-item">\n                                        <h3 class="mp-result-title">${r}</h3>\n                                        <p class="mp-result-excerpt">${n}</p>\n                                    </a>\n                                `}catch(t){return console.error("Error rendering hit:",t,e),""}},empty:e=>(console.log("No results found:",e),`\n                                <div class="mp-empty-message">\n                                    <p>No results found for "${e.query}"</p>\n                                    <p>Try adjusting your search query or filters</p>\n                                </div>\n                            `)}})])}initEventListeners(){if(!this.modal)return;window.addEventListener("hashchange",(()=>{"#/search"===window.location.hash?this.openModal():this.modal&&!this.modal.classList.contains("hidden")&&this.closeModal()})),this.modal.addEventListener("close",(()=>this.closeModal()));const e=this.modal.querySelector(".mp-modal-content");e&&e.addEventListener("click",(e=>{e.stopPropagation()})),this.modal.addEventListener("click",(e=>{e.target!==this.modal&&!e.target.classList.contains("mp-modal-container")&&e.target.closest(".mp-modal-content")||this.closeModal()})),document.addEventListener("keydown",(e=>this.handleKeydown(e)))}attachCommonSearchListeners(){const e=document.getElementById("mp-common-searches-container");e&&(e.removeEventListener("click",this._handleCommonSearchClick),this._handleCommonSearchClick=e=>{const t=e.target.closest(".mp-common-search-btn");if(!t)return;e.preventDefault();const n=t.dataset.search;try{const e=document.querySelector(".mp-search-input");if(e){this.search.helper.setQuery(n),e.value=n,this.search.helper.search(),e.focus();const t=e.value.length;e.setSelectionRange(t,t)}}catch(e){console.error("Error handling common search click:",e)}},e.addEventListener("click",this._handleCommonSearchClick))}openModal(){this.modal.classList.remove("hidden"),document.documentElement.style.overflow="hidden",document.querySelector(".ais-SearchBox-input").focus(),history.replaceState(null,null,"#/search")}closeModal(){this.modal.classList.add("hidden"),document.documentElement.style.overflow="",document.querySelector(".ais-SearchBox-input").value="",this.search.helper.setQuery("").search(),"#/search"===window.location.hash&&history.replaceState(null,null,window.location.pathname)}handleKeydown(e){if(!(window.innerWidth<640||this.modal.classList.contains("hidden")))switch(e.key){case"Escape":this.closeModal();break;case"ArrowDown":e.preventDefault(),this.navigateResults("next");break;case"ArrowUp":e.preventDefault(),this.navigateResults("prev");break;case"Enter":e.preventDefault(),this.handleEnterKey()}}navigateResults(e){const t=[...document.querySelectorAll("#mp-hits a:not(.hidden), .mp-common-search-btn:not(.hidden)")].filter((e=>null!==e.offsetParent&&!e.closest(".hidden")));if(0===t.length)return;-1===this.selectedIndex?this.selectedIndex="next"===e?0:t.length-1:this.selectedIndex="next"===e?(this.selectedIndex+1)%t.length:(this.selectedIndex-1+t.length)%t.length,t.forEach((e=>e.classList.remove("mp-selected")));const n=t[this.selectedIndex];n.classList.add("mp-selected"),n.scrollIntoView({block:"nearest",behavior:"smooth"})}handleEnterKey(){const e=[...document.querySelectorAll("#mp-hits a:not(.hidden), .mp-common-search-btn:not(.hidden)")].filter((e=>null!==e.offsetParent&&!e.closest(".hidden")));if(this.selectedIndex>=0&&this.selectedIndex<e.length){const t=e[this.selectedIndex];if("A"===t.tagName)window.location.href=t.href;else{const e=document.querySelector(".mp-search-input");e.value=t.textContent.trim(),e.dispatchEvent(new Event("input",{bubbles:!0}))}}}handleThemeChange(){const e=document.getElementById("mp-search-wrapper");if(!e)return;const t=t=>{e.classList.toggle("dark",t)};switch(this.config.theme){case"dark":t(!0);break;case"light":t(!1);break;default:const e=window.matchMedia("(prefers-color-scheme: dark)");t(e.matches),e.addEventListener("change",(e=>t(e.matches)))}}}window.MagicPagesSearch=e,document.addEventListener("DOMContentLoaded",(()=>{window.magicSearch=new e}))}()}();